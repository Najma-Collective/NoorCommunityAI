/* =====================================================================
   Noor Community Activities — World-Class Premium UI System
   Award-Winning "Organic Sage" Visual Language — Enhanced Edition
   ===================================================================== */

/* -------------------------------
   Design Tokens — Premium Palette
----------------------------------*/
:root {
  /* Core Palette — Refined & Expanded */
  --dark-olive: #4a592a;
  --olive-green: #495828;
  --forest-green: #293d1a;
  --deep-green: #243d16;
  --light-green: #cacca5;
  --pale-green: #d0d2a9;
  --cream: #f1eadf;
  --light-cream: #f5f1e6;
  --off-white: #f3f3f3;
  --marigold: #eba03c;

  /* Premium Extended Shades */
  --sage-50: #f4f5f0;
  --sage-100: #e5e8dc;
  --sage-200: #d0d4c3;
  --sage-300: #b8c0a6;
  --sage-400: #9eaa88;
  --sage-500: #7a8a68;
  --sage-600: #5e6d4f;
  --sage-700: #4a592a;
  --sage-800: #3a4621;
  --sage-900: #2a3418;

  --amber-50: #fef7ec;
  --amber-100: #fde9c8;
  --amber-200: #fcd79e;
  --amber-300: #fac674;
  --amber-400: #f8b550;
  --amber-500: #eba03c;
  --amber-600: #d88825;
  --amber-700: #b76f1a;
  --amber-800: #945812;
  --amber-900: #6d410d;

  /* Legacy Tokens */
  --primary-sage: var(--dark-olive);
  --secondary-sage: var(--light-green);
  --tertiary-sage: var(--pale-green);
  --warm-cream: var(--light-cream);
  --soft-white: var(--off-white);
  --forest-shadow: var(--deep-green);
  --ink: color-mix(in srgb, var(--forest-green) 85%, #111 15%);
  --ink-muted: color-mix(in srgb, var(--forest-green) 60%, #4e4e4e 40%);
  --border-sage: color-mix(in srgb, var(--light-green) 35%, transparent);
  --hover-sage: color-mix(in srgb, var(--light-green) 18%, rgba(255,255,255,0.85));

  /* Premium Gradients */
  --deep-forest: var(--forest-green);
  --moss: color-mix(in srgb, var(--olive-green) 55%, var(--dark-olive) 45%);
  --amber: var(--marigold);
  --sunset-veil: linear-gradient(135deg, var(--sage-600), var(--sage-700));
  --twilight-canopy: linear-gradient(120deg, color-mix(in srgb, var(--deep-green) 90%, #000 10%), color-mix(in srgb, var(--forest-green) 55%, var(--olive-green) 45%));
  --golden-hour: linear-gradient(135deg, var(--sage-600), var(--sage-700), var(--deep-forest));
  --verdant-glow: radial-gradient(ellipse at top, var(--sage-200), var(--sage-100), transparent);
  --warm-ambient: radial-gradient(circle at 50% 0%, var(--sage-100), transparent 70%);
  --aurora-sage: linear-gradient(135deg, var(--sage-200), var(--sage-300), var(--sage-200));
  --premium-glass: linear-gradient(135deg, rgba(255,255,255,0.9), rgba(255,255,255,0.6));

  /* Typography — Enhanced Scale */
  --font-display: "Questrial", system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, sans-serif;
  --font-body: "Nunito", system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, sans-serif;
  --font-size-adjustment: 0rem;
  --step--2: calc(clamp(0.75rem, 0.71rem + 0.12vw, 0.82rem) + var(--font-size-adjustment));
  --step--1: calc(clamp(0.875rem, 0.82rem + 0.18vw, 0.95rem) + var(--font-size-adjustment));
  --step-0:  calc(clamp(1rem, 0.94rem + 0.28vw, 1.125rem) + var(--font-size-adjustment));
  --step-1:  calc(clamp(1.125rem, 1.04rem + 0.42vw, 1.375rem) + var(--font-size-adjustment));
  --step-2:  calc(clamp(1.375rem, 1.22rem + 0.72vw, 1.75rem) + var(--font-size-adjustment));
  --step-3:  calc(clamp(1.875rem, 1.52rem + 1.18vw, 2.5rem) + var(--font-size-adjustment));
  --step-4:  calc(clamp(2.5rem, 1.95rem + 1.85vw, 3.5rem) + var(--font-size-adjustment));
  --step-5:  calc(clamp(3rem, 2.4rem + 2.5vw, 4.5rem) + var(--font-size-adjustment));

  /* Rhythm & Spacing */
  --space-1: 0.25rem;
  --space-2: 0.5rem;
  --space-3: 0.75rem;
  --space-4: 1rem;
  --space-5: 1.25rem;
  --space-6: 1.5rem;
  --space-7: 2rem;
  --space-8: 2.5rem;
  --space-9: 3rem;
  --space-10: 4rem;
  --space-11: 5rem;
  --space-12: 6rem;
  --section-padding-block: clamp(1.5rem, 4vw, 3rem);

  /* Shape & Elevation — Premium Shadows */
  --radius-xs: 6px;
  --radius-sm: 10px;
  --radius: 16px;
  --radius-lg: 20px;
  --radius-xl: 28px;
  --radius-2xl: 36px;
  --radius-full: 9999px;

  --shadow-sm: 0 1px 2px rgba(36, 61, 22, 0.04), 0 1px 4px rgba(36, 61, 22, 0.03);
  --shadow-1: 0 2px 4px rgba(36, 61, 22, 0.06), 0 4px 12px rgba(36, 61, 22, 0.08);
  --shadow-2: 0 8px 16px rgba(36, 61, 22, 0.1), 0 16px 32px rgba(36, 61, 22, 0.08);
  --shadow-3: 0 16px 48px rgba(36, 61, 22, 0.12), 0 32px 64px rgba(36, 61, 22, 0.1);
  --shadow-4: 0 24px 64px rgba(36, 61, 22, 0.16), 0 48px 96px rgba(36, 61, 22, 0.12);

  --shadow-glow: 0 0 20px rgba(235, 160, 60, 0.15), 0 0 40px rgba(235, 160, 60, 0.08);
  --shadow-glow-lg: 0 0 40px rgba(235, 160, 60, 0.2), 0 0 80px rgba(235, 160, 60, 0.12), 0 0 120px rgba(235, 160, 60, 0.06);

  --ring: 0 0 0 3px color-mix(in oklab, var(--soft-white) 60%, transparent),
          0 0 0 5px color-mix(in srgb, var(--secondary-sage) 85%, #2f3a2b 15%);
  --ring-amber: 0 0 0 3px color-mix(in oklab, var(--amber-100) 80%, transparent),
                0 0 0 5px var(--amber-400);

  /* Motion — Premium Easing */
  --ease-smooth: cubic-bezier(0.4, 0, 0.2, 1);
  --ease-out: cubic-bezier(0.2, 0.8, 0.2, 1);
  --ease-in-out: cubic-bezier(0.65, 0, 0.35, 1);
  --ease-spring: cubic-bezier(0.34, 1.56, 0.64, 1);
  --ease-bounce: cubic-bezier(0.68, -0.55, 0.265, 1.55);

  --transition-instant: 100ms var(--ease-smooth);
  --transition-fast: 200ms var(--ease-out);
  --transition-std: 300ms var(--ease-in-out);
  --transition-slow: 500ms var(--ease-in-out);
  --transition-spring: 400ms var(--ease-spring);

  /* Layout */
  --target-min: 44px;
  --container-max: clamp(320px, 92vw, 940px);
  --container-padding: clamp(1.25rem, 5vw, 3rem);
  --header-height: 84px;
}

/* -------------------------------
   Global Reset & Base Styles
----------------------------------*/
*,
*::before,
*::after {
  box-sizing: border-box;
}

html {
  -webkit-text-size-adjust: 100%;
  text-size-adjust: 100%;
  hanging-punctuation: first last;
  scroll-behavior: smooth;
  overscroll-behavior-y: contain;
}

@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
  html { scroll-behavior: auto; }
}

body {
  margin: 0;
  min-height: 100dvh;
  font-family: var(--font-body);
  font-size: var(--step-0);
  line-height: 1.7;
  color: var(--ink);
  background:
    radial-gradient(1200px 1200px at 15% 0%, color-mix(in srgb, var(--sage-200) 35%, transparent), transparent 65%),
    radial-gradient(1400px 900px at 85% 15%, color-mix(in srgb, var(--sage-300) 20%, transparent), transparent 70%),
    radial-gradient(800px 800px at 50% 100%, color-mix(in srgb, var(--sage-100) 20%, transparent), transparent 65%),
    linear-gradient(150deg, var(--cream), var(--light-cream), var(--sage-50));
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
  overflow-x: hidden;
  position: relative;
}

body::before {
  content: "";
  position: fixed;
  inset: 0;
  background:
    url('data:image/svg+xml,<svg width="100" height="100" xmlns="http://www.w3.org/2000/svg"><defs><pattern id="grid" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="50" cy="50" r="1" fill="%23cacca5" opacity="0.15"/></pattern></defs><rect width="100" height="100" fill="url(%23grid)"/></svg>');
  opacity: 0.4;
  pointer-events: none;
  z-index: 0;
}

:where(p, h1, h2, h3, h4, h5, h6) {
  text-wrap: pretty;
  overflow-wrap: break-word;
}
:where(h1, h2, h3) { text-wrap: balance; }

img, svg, video, canvas {
  display: block;
  max-width: 100%;
  height: auto;
}

a {
  color: color-mix(in srgb, var(--amber-600) 80%, var(--sage-700) 20%);
  text-decoration-thickness: 2px;
  text-underline-offset: 0.25em;
  transition: all var(--transition-fast);
  text-decoration-color: color-mix(in srgb, currentColor 50%, transparent);
  position: relative;
}

a::after {
  content: "";
  position: absolute;
  bottom: -2px;
  left: 0;
  right: 0;
  height: 2px;
  background: linear-gradient(90deg, var(--sage-500), var(--sage-700));
  transform: scaleX(0);
  transform-origin: right;
  transition: transform var(--transition-std);
}

a:hover::after {
  transform: scaleX(1);
  transform-origin: left;
}

a:hover {
  color: var(--amber-700);
  text-decoration-color: var(--amber-500);
}

a:focus-visible {
  outline: none;
  border-radius: 6px;
  box-shadow: var(--ring-amber);
  color: var(--deep-forest);
}

.visually-hidden {
  position: absolute !important;
  height: 1px; width: 1px;
  overflow: hidden; clip: rect(1px, 1px, 1px, 1px);
  white-space: nowrap;
}

/* -------------------------------
   Accessibility — Skip to Main
----------------------------------*/
.skip-to-main {
  position: absolute;
  top: -100px;
  left: 50%;
  transform: translateX(-50%);
  z-index: 10000;
  padding: 1rem 2rem;
  background: var(--golden-hour);
  color: #fff;
  font-weight: 700;
  text-decoration: none;
  border-radius: var(--radius);
  box-shadow: var(--shadow-4);
  transition: top var(--transition-std);
}

.skip-to-main:focus {
  top: var(--space-4);
  outline: none;
  box-shadow: var(--ring-amber), var(--shadow-4);
}

/* -------------------------------
   App Shell & Layout
----------------------------------*/
#app-wrapper {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: clamp(var(--space-4), 3vw, var(--space-6));
  padding-block: max(2vh, env(safe-area-inset-top)) clamp(36px, 8vw, 72px);
  padding-inline: clamp(1rem, 3vw, 1.75rem);
  width: 100%;
  min-height: 100dvh;
  background:
    radial-gradient(1400px 800px at 15% -5%, color-mix(in srgb, var(--sage-200) 40%, transparent), transparent 70%),
    radial-gradient(1100px 900px at 88% 105%, color-mix(in srgb, var(--amber-200) 25%, transparent), transparent 75%),
    linear-gradient(145deg, var(--cream) 0%, var(--light-cream) 50%, var(--sage-50) 100%);
  position: relative;
  isolation: isolate;
}

#app-wrapper::before {
  content: "";
  position: absolute;
  inset: 2rem 3rem auto;
  height: 280px;
  border-radius: 50%;
  background: radial-gradient(ellipse, var(--sage-200), transparent 65%);
  filter: blur(90px);
  opacity: 0.5;
  pointer-events: none;
  z-index: -1;
  animation: ambient-pulse 8s ease-in-out infinite;
}

@keyframes ambient-pulse {
  0%, 100% { opacity: 0.5; transform: scale(1); }
  50% { opacity: 0.7; transform: scale(1.1); }
}

.app-header {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: var(--space-4);
  flex-wrap: wrap;
}

.app-header img {
  height: clamp(40px, 10vw, 60px);
  width: auto;
  filter: drop-shadow(0 4px 12px rgba(36, 61, 22, 0.15));
  transition: transform var(--transition-spring);
}

.app-header img:hover {
  transform: scale(1.05) rotate(-2deg);
}

#activity-container {
  width: 100%;
  max-width: var(--container-max);
  display: flex;
  flex-direction: column;
  gap: clamp(var(--space-4), 3vw, var(--space-6));
  background:
    linear-gradient(165deg,
      color-mix(in srgb, var(--soft-white) 95%, var(--sage-100) 5%),
      color-mix(in srgb, var(--soft-white) 90%, transparent));
  padding: var(--container-padding);
  border-radius: var(--radius-2xl);
  border: 1px solid color-mix(in srgb, var(--sage-300) 40%, transparent);
  box-shadow:
    var(--shadow-4),
    inset 0 1px 0 rgba(255, 255, 255, 0.6),
    0 0 0 1px rgba(255, 255, 255, 0.1);
  position: relative;
  isolation: isolate;
  scroll-margin-top: var(--space-7);
  transition: all var(--transition-std);
}

@supports (backdrop-filter: blur(10px)) {
  #activity-container {
    background: color-mix(in srgb, var(--soft-white) 75%, transparent);
    backdrop-filter: blur(20px) saturate(1.2);
  }
}

#activity-container::before {
  content: "";
  position: absolute;
  inset: -1px;
  border-radius: inherit;
  background:
    radial-gradient(1200px 200px at 50% -5%, color-mix(in srgb, var(--sage-200) 45%, transparent), transparent 65%),
    radial-gradient(800px 300px at 95% 0%, color-mix(in srgb, var(--sage-300) 25%, transparent), transparent 70%);
  z-index: -1;
  pointer-events: none;
}

#activity-container:hover {
  transform: translateY(-2px);
  box-shadow:
    var(--shadow-4),
    var(--shadow-glow),
    inset 0 1px 0 rgba(255, 255, 255, 0.7);
}

.screen.hidden { display: none !important; }

/* -------------------------------
   Typography — Enhanced
----------------------------------*/
h1 {
  font-family: var(--font-display);
  font-size: var(--step-4);
  letter-spacing: -0.02em;
  color: var(--forest-shadow);
  text-align: center;
  line-height: 1.1;
  margin: 0 0 var(--space-4);
  text-shadow:
    0 1px 0 rgba(255, 255, 255, 0.8),
    0 12px 28px rgba(36, 61, 22, 0.2);
  background: linear-gradient(135deg, var(--deep-green), var(--sage-600), var(--sage-700));
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  position: relative;
  animation: title-shimmer 4s ease-in-out infinite;
}

@keyframes title-shimmer {
  0%, 100% { filter: brightness(1); }
  50% { filter: brightness(1.1); }
}

h2.rubric {
  font-family: var(--font-body);
  font-size: var(--step-0);
  font-weight: 700;
  color: color-mix(in srgb, var(--sage-600) 60%, var(--amber-600) 40%);
  margin: 0 0 var(--space-6);
  text-align: center;
  line-height: 1.5;
  letter-spacing: 0.15em;
  text-transform: uppercase;
  position: relative;
}

h2.rubric::after {
  content: "";
  display: block;
  width: 60px;
  height: 3px;
  background: linear-gradient(90deg, var(--sage-500), var(--sage-700));
  margin: var(--space-3) auto 0;
  border-radius: var(--radius-full);
  animation: rubric-grow 2s ease-in-out infinite;
}

@keyframes rubric-grow {
  0%, 100% { width: 60px; opacity: 1; }
  50% { width: 80px; opacity: 0.8; }
}

h3 {
  font-family: var(--font-display);
  font-size: var(--step-2);
  color: var(--forest-shadow);
  margin: var(--space-6) 0 var(--space-3);
  letter-spacing: -0.01em;
  line-height: 1.3;
}

/* -------------------------------
   Buttons — Premium Design
----------------------------------*/
.activity-btn {
  min-height: max(38px, calc(var(--target-min) - 6px));
  padding: 0.35rem 1.2rem;
  border-radius: var(--radius-full);
  border: none;
  position: relative;
  background: var(--golden-hour);
  color: #fff;
  font-weight: 700;
  font-size: var(--step--1);
  letter-spacing: 0.06em;
  text-transform: uppercase;
  cursor: pointer;
  text-decoration: none;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  line-height: 1.2;
  gap: 0.35rem;
  -webkit-tap-highlight-color: transparent;
  touch-action: manipulation;
  user-select: none;
  transition: all var(--transition-fast);
  box-shadow:
    var(--shadow-2),
    var(--shadow-glow),
    inset 0 1px 0 rgba(255, 255, 255, 0.3);
  overflow: hidden;
}

.activity-btn::before {
  content: "";
  position: absolute;
  inset: 0;
  background: linear-gradient(135deg, rgba(255,255,255,0.3), transparent, rgba(0,0,0,0.1));
  opacity: 0;
  transition: opacity var(--transition-fast);
}

.activity-btn::after {
  content: "";
  position: absolute;
  inset: -50%;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
  transform: translateX(-100%);
  transition: transform var(--transition-slow);
}

.activity-btn:hover {
  transform: translateY(-3px) scale(1.02);
  box-shadow:
    0 20px 40px rgba(36, 61, 22, 0.3),
    var(--shadow-glow-lg),
    inset 0 1px 0 rgba(255, 255, 255, 0.4);
}

.activity-btn:hover::before {
  opacity: 1;
}

.activity-btn:hover::after {
  transform: translateX(100%);
}

.activity-btn:active {
  transform: translateY(-1px) scale(0.99);
  box-shadow:
    var(--shadow-1),
    var(--shadow-glow);
}

.activity-btn:focus-visible {
  outline: none;
  box-shadow: var(--ring-amber), var(--shadow-3), var(--shadow-glow);
  transform: translateY(-2px);
}

.activity-btn:disabled {
  background: linear-gradient(135deg, var(--sage-300), var(--sage-400));
  color: rgba(255, 255, 255, 0.7);
  cursor: not-allowed;
  opacity: 0.7;
  transform: none;
  box-shadow: var(--shadow-sm);
}

.activity-btn:disabled::before,
.activity-btn:disabled::after {
  display: none;
}

/* Secondary Button */
.activity-btn.secondary {
  background: linear-gradient(135deg,
    color-mix(in srgb, var(--soft-white) 95%, var(--sage-100) 5%),
    color-mix(in srgb, var(--sage-50) 90%, var(--amber-50) 10%));
  color: var(--sage-700);
  border: 2px solid color-mix(in srgb, var(--sage-400) 40%, transparent);
  box-shadow:
    var(--shadow-1),
    inset 0 1px 0 rgba(255, 255, 255, 0.8);
}

.activity-btn.secondary:hover {
  background: linear-gradient(135deg,
    color-mix(in srgb, var(--sage-100) 80%, var(--amber-100) 20%),
    color-mix(in srgb, var(--sage-50) 70%, var(--amber-100) 30%));
  color: var(--deep-forest);
  border-color: var(--sage-500);
}

.activity-btn.secondary:focus-visible {
  box-shadow: var(--ring), var(--shadow-2);
}

.activity-btn.tertiary {
  background: transparent;
  border: none;
  color: var(--sage-700);
  padding-inline: 0;
  font-weight: 600;
  text-transform: none;
  letter-spacing: 0;
  box-shadow: none;
}

.activity-btn.tertiary::before,
.activity-btn.tertiary::after {
  display: none;
}

.activity-btn.tertiary:hover,
.activity-btn.tertiary:focus-visible {
  color: var(--amber-500);
  text-decoration: underline;
  box-shadow: none;
}

.controls {
  margin-top: var(--space-7);
  display: grid;
  width: 100%;
  gap: var(--space-3);
  grid-auto-flow: row;
  justify-items: center;
}

/* -------------------------------
   Forms & Inputs — Premium
----------------------------------*/
.input-group {
  margin: var(--space-6) 0;
}

.input-group label {
  display: block;
  font-weight: 700;
  margin-bottom: var(--space-2);
  color: var(--sage-700);
  letter-spacing: 0.05em;
  text-transform: uppercase;
  font-size: var(--step--1);
}

input[type="text"],
input[type="date"],
input[type="email"],
input[type="tel"],
textarea,
select {
  width: 100%;
  min-height: var(--target-min);
  padding: 0.85rem 1.1rem;
  border-radius: var(--radius);
  border: 2px solid color-mix(in srgb, var(--sage-300) 40%, transparent);
  background:
    linear-gradient(180deg,
      color-mix(in srgb, #fff 90%, var(--sage-50) 10%),
      color-mix(in srgb, var(--soft-white) 95%, var(--sage-50) 5%));
  font-size: var(--step-0);
  font-family: var(--font-body);
  color: var(--ink);
  box-shadow:
    inset 0 1px 3px rgba(36, 61, 22, 0.08),
    0 1px 0 rgba(255, 255, 255, 0.8);
  appearance: none;
  -webkit-appearance: none;
  transition: all var(--transition-std);
  position: relative;
}

input::placeholder, textarea::placeholder {
  color: var(--ink-muted);
  opacity: 0.7;
}

input:hover, textarea:hover, select:hover {
  border-color: color-mix(in srgb, var(--sage-400) 60%, transparent);
  box-shadow:
    inset 0 1px 3px rgba(36, 61, 22, 0.08),
    0 1px 0 rgba(255, 255, 255, 0.9),
    var(--shadow-sm);
}

input:focus-visible, textarea:focus-visible, select:focus-visible {
  outline: none;
  border-color: var(--amber-500);
  box-shadow:
    var(--ring-amber),
    inset 0 1px 3px rgba(235, 160, 60, 0.1);
  background: color-mix(in srgb, #fff 95%, var(--amber-50) 5%);
}

.select-wrapper {
  position: relative;
}

select {
  padding-right: 3rem;
  background-image: url('data:image/svg+xml,<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5 7.5L10 12.5L15 7.5" stroke="%234a592a" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>');
  background-repeat: no-repeat;
  background-position: right 1rem center;
}

.select-wrapper::after {
  display: none; /* Using inline SVG instead */
}

textarea {
  resize: vertical;
  min-height: 140px;
  line-height: 1.6;
}

/* -------------------------------
   Test Screen
----------------------------------*/
.test-header {
  display: grid;
  grid-template-columns: 1fr auto;
  align-items: center;
  gap: var(--space-4);
  margin-bottom: var(--space-4);
  font-weight: 700;
}

#current-level {
  color: var(--sage-600);
  font-size: var(--step-1);
}

#timer {
  font-size: var(--step-1);
  color: var(--amber-600);
  justify-self: end;
  padding: 0.5rem 1rem;
  background: linear-gradient(135deg, var(--amber-50), var(--amber-100));
  border-radius: var(--radius-full);
  box-shadow: var(--shadow-sm);
}

.progress-bar-container {
  width: 100%;
  height: 12px;
  background: linear-gradient(90deg, var(--sage-100), var(--sage-50));
  border-radius: var(--radius-full);
  overflow: hidden;
  box-shadow: inset 0 2px 4px rgba(36, 61, 22, 0.1);
  border: 1px solid color-mix(in srgb, var(--sage-300) 30%, transparent);
}

#progress-bar {
  height: 100%;
  width: 0%;
  background: var(--golden-hour);
  transition: width 400ms var(--ease-out);
  box-shadow: 0 0 10px rgba(235, 160, 60, 0.4);
  position: relative;
  overflow: hidden;
}

#progress-bar::after {
  content: "";
  position: absolute;
  inset: 0;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
  animation: progress-shine 2s linear infinite;
}

@keyframes progress-shine {
  from { transform: translateX(-100%); }
  to { transform: translateX(100%); }
}

#progress-text {
  text-align: right;
  font-size: var(--step--1);
  font-weight: 600;
  color: var(--sage-600);
  margin-top: var(--space-2);
  margin-bottom: var(--space-6);
}

.mc-question {
  padding: clamp(1.5rem, 4vw, 2rem);
  border-radius: var(--radius-lg);
  border: 2px solid color-mix(in srgb, var(--sage-300) 40%, transparent);
  background:
    linear-gradient(180deg,
      color-mix(in srgb, #fff 95%, var(--sage-50) 5%),
      color-mix(in srgb, var(--soft-white) 90%, var(--sage-50) 10%));
  box-shadow:
    var(--shadow-3),
    inset 0 1px 0 rgba(255, 255, 255, 0.8);
  position: relative;
  overflow: hidden;
}

.mc-question::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 4px;
  background: var(--golden-hour);
}

.mc-question-text {
  font-weight: 700;
  font-size: var(--step-1);
  color: var(--forest-shadow);
  line-height: 1.5;
  margin-bottom: var(--space-5);
}

.mc-options-container {
  display: flex;
  flex-direction: column;
  gap: var(--space-3);
}

.mc-option-item input { display: none; }

.mc-option-label {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  cursor: pointer;
  padding: 1rem 1.25rem;
  border-radius: var(--radius);
  border: 2px solid color-mix(in srgb, var(--sage-300) 35%, transparent);
  background:
    linear-gradient(135deg,
      color-mix(in srgb, var(--soft-white) 95%, var(--sage-50) 5%),
      color-mix(in srgb, var(--soft-white) 92%, var(--sage-50) 8%));
  transition: all var(--transition-std);
  -webkit-tap-highlight-color: transparent;
  box-shadow: var(--shadow-sm);
  position: relative;
  overflow: hidden;
}

.mc-option-label::before {
  content: "";
  position: absolute;
  inset: 0;
  background: radial-gradient(circle at 50% 50%, var(--amber-100), transparent 70%);
  opacity: 0;
  transition: opacity var(--transition-std);
}

.mc-option-label:hover {
  background: linear-gradient(135deg,
    color-mix(in srgb, var(--sage-100) 70%, var(--amber-100) 30%),
    color-mix(in srgb, var(--sage-50) 60%, var(--amber-50) 40%));
  border-color: var(--sage-400);
  box-shadow: var(--shadow-1);
  transform: translateX(4px);
}

.mc-option-label:hover::before {
  opacity: 0.3;
}

.mc-option-label .option-control {
  flex-shrink: 0;
  width: 26px;
  height: 26px;
  border: 3px solid var(--sage-400);
  background: linear-gradient(135deg, var(--soft-white), var(--sage-50));
  transition: all var(--transition-spring);
  position: relative;
  border-radius: 50%;
  box-shadow:
    inset 0 1px 3px rgba(36, 61, 22, 0.1),
    0 2px 4px rgba(36, 61, 22, 0.08);
}

.mc-option-item input:checked + .option-control {
  border-color: var(--amber-600);
  background: var(--golden-hour);
  box-shadow:
    var(--shadow-glow),
    inset 0 1px 0 rgba(255, 255, 255, 0.4);
  transform: scale(1.1);
}

.mc-option-item input:checked + .option-control::after {
  content: '';
  position: absolute;
  inset: 5px;
  border-radius: 50%;
  background: #fff;
  box-shadow: 0 2px 4px rgba(36, 61, 22, 0.2);
}

.mc-option-item input:focus-visible + .option-control,
.mc-option-label:focus-within {
  outline: none;
  box-shadow: var(--ring-amber);
}

.mc-option-label:has(input:checked) {
  border-color: var(--amber-600);
  background: linear-gradient(135deg,
    color-mix(in srgb, var(--amber-50) 60%, #fff 40%),
    color-mix(in srgb, var(--sage-50) 50%, var(--amber-50) 50%));
  box-shadow:
    var(--shadow-2),
    var(--shadow-glow);
  transform: translateX(6px);
}

.mc-option-label:has(input:checked)::before {
  opacity: 0.5;
}

.mc-option-label:has(input:checked) .mc-option-text {
  color: var(--deep-forest);
  font-weight: 700;
}

.mc-slide-student-controls {
  margin-top: var(--space-7);
  display: flex;
  justify-content: flex-end;
  gap: var(--space-3);
  flex-wrap: wrap;
}

/* -------------------------------
   Responsive Breakpoints
----------------------------------*/
@media (min-width: 768px) {
  .controls {
    grid-auto-flow: column;
    justify-content: center;
  }
  .test-header {
    grid-template-columns: 1fr auto auto;
  }
}

@media (min-width: 1024px) {
  #activity-container {
    box-shadow:
      var(--shadow-4),
      var(--shadow-glow),
      inset 0 1px 0 rgba(255, 255, 255, 0.6);
  }
  h1 { letter-spacing: -0.01em; }
}

/* -------------------------------
   Dark Mode
----------------------------------*/
@media (prefers-color-scheme: dark) {
  :root {
    --soft-white: #1E211C;
    --warm-cream: #23261F;
    --forest-shadow: #DDE6D4;
    --ink: #E9EFE5;
    --ink-muted: #AEB9AA;
    --border-sage: rgba(184, 197, 166, 0.2);
    --hover-sage: rgba(184, 197, 166, 0.1);
    --sage-50: #2a2e27;
    --sage-100: #353932;
  }

  body {
    background:
      radial-gradient(1200px 1000px at 15% 10%, rgba(156,175,136,0.08), transparent 65%),
      radial-gradient(1000px 800px at 85% 15%, rgba(235,160,60,0.06), transparent 70%),
      linear-gradient(145deg, #191D18 0%, #1B1E19 50%, #1E211C 100%);
  }

  body::before {
    opacity: 0.2;
  }

  #activity-container {
    background: color-mix(in srgb, #23261F 95%, transparent);
    border-color: rgba(184, 197, 166, 0.15);
    box-shadow:
      0 24px 64px rgba(0,0,0,0.4),
      0 48px 96px rgba(0,0,0,0.3);
  }

  h1 {
    background: linear-gradient(135deg, var(--sage-200), var(--amber-300), var(--sage-100));
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
  }

  a { color: var(--amber-400); }
  a:hover { color: var(--amber-300); }

  .mc-question {
    background: linear-gradient(180deg, #20241E, #191D18);
    border-color: rgba(184, 197, 166, 0.2);
    box-shadow:
      0 16px 48px rgba(0,0,0,0.5),
      inset 0 1px 0 rgba(255,255,255,0.05);
  }

  .activity-btn {
    box-shadow:
      0 8px 24px rgba(0,0,0,0.4),
      var(--shadow-glow),
      inset 0 1px 0 rgba(255,255,255,0.2);
  }

  .activity-btn:hover {
    box-shadow:
      0 20px 48px rgba(0,0,0,0.5),
      var(--shadow-glow-lg),
      inset 0 1px 0 rgba(255,255,255,0.3);
  }

  input, textarea, select {
    background: linear-gradient(180deg, #1a1d18, #141713);
    border-color: rgba(184, 197, 166, 0.25);
    color: var(--ink);
    box-shadow: inset 0 2px 4px rgba(0,0,0,0.3);
  }

  input:hover, textarea:hover, select:hover {
    border-color: rgba(184, 197, 166, 0.35);
  }

  .activity-btn.secondary {
    background: linear-gradient(135deg, #2a2e27, #23261F);
    color: var(--sage-200);
    border-color: rgba(184, 197, 166, 0.25);
  }

  .activity-btn.secondary:hover {
    background: linear-gradient(135deg, #353932, #2a2e27);
    color: var(--sage-100);
  }
}

/* -------------------------------
   Site-Wide Layout Extensions
----------------------------------*/
body.site-shell {
  background:
    radial-gradient(1200px 1200px at 15% 0%, color-mix(in srgb, var(--sage-200) 35%, transparent), transparent 65%),
    radial-gradient(1400px 900px at 85% 15%, color-mix(in srgb, var(--amber-200) 25%, transparent), transparent 70%),
    linear-gradient(150deg, var(--warm-cream), var(--light-cream), var(--sage-50));
  color: var(--ink);
  position: relative;
}

.site-shell main {
  position: relative;
  z-index: 1;
}

.layout-fill main {
  min-height: clamp(420px, 75vh, 960px);
}

.page-surface {
  max-width: 1200px;
  margin: 0 auto;
  padding: clamp(0.75rem, 2vw, 1.75rem) clamp(0.75rem, 2.5vw, 2rem);
}

.material-surface {
  background:
    linear-gradient(135deg,
      color-mix(in srgb, var(--soft-white) 95%, var(--sage-50) 5%),
      color-mix(in srgb, var(--soft-white) 90%, var(--sage-100) 10%));
  border-radius: var(--radius-xl);
  border: 2px solid color-mix(in srgb, var(--sage-300) 35%, transparent);
  box-shadow:
    var(--shadow-3),
    inset 0 1px 0 rgba(255, 255, 255, 0.7);
  padding: clamp(1rem, 3vw, 2rem);
  position: relative;
  overflow: hidden;
}

.material-surface::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 200px;
  background: radial-gradient(ellipse at top, var(--sage-100), transparent 70%);
  opacity: 0.4;
  pointer-events: none;
}

@supports (backdrop-filter: blur(10px)) {
  .material-surface {
    background: color-mix(in srgb, var(--soft-white) 85%, transparent);
    backdrop-filter: blur(12px) saturate(1.15);
  }
}

/* -------------------------------
   Header & Navigation — Premium
----------------------------------*/
.site-header {
  position: sticky;
  top: 0;
  width: 100%;
  min-height: var(--header-height);
  z-index: 999;
  backdrop-filter: blur(24px) saturate(1.2);
  background: color-mix(in srgb, var(--soft-white) 92%, transparent);
  border-bottom: 1px solid color-mix(in srgb, var(--sage-300) 30%, transparent);
  box-shadow:
    0 8px 32px rgba(36, 61, 22, 0.12),
    inset 0 -1px 0 rgba(255, 255, 255, 0.5);
  transition: all var(--transition-std);
}

.site-header.scrolled {
  box-shadow:
    0 12px 48px rgba(36, 61, 22, 0.18),
    var(--shadow-glow);
}

.navbar {
  max-width: 1200px;
  margin: 0 auto;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: var(--space-4);
  flex-wrap: nowrap;
  padding: 0.85rem clamp(1rem, 4vw, 2.5rem);
  position: relative;
}

.brand {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  text-decoration: none;
  color: var(--deep-forest);
  font-weight: 900;
  font-size: var(--step-1);
  letter-spacing: -0.01em;
  transition: all var(--transition-fast);
  position: relative;
}

.brand::after {
  content: "";
  position: absolute;
  bottom: -4px;
  left: 0;
  right: 0;
  height: 3px;
  background: var(--golden-hour);
  transform: scaleX(0);
  transition: transform var(--transition-std);
  border-radius: var(--radius-full);
}

.brand:hover::after {
  transform: scaleX(1);
}

.brand img {
  width: 52px;
  height: 52px;
  object-fit: contain;
  filter: drop-shadow(0 4px 12px rgba(36, 61, 22, 0.2));
  transition: transform var(--transition-spring);
}

.brand:hover img {
  transform: scale(1.08) rotate(-3deg);
}

.navbar nav {
  order: 3;
  flex: 1 0 auto;
}

.nav-actions {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  margin-left: auto;
  order: 4;
}

.linkedin-icon-nav {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 40px;
  height: 40px;
  border-radius: var(--radius);
  transition: all var(--transition-fast);
  padding: 0.35rem;
}

.linkedin-icon-nav img {
  width: 100%;
  height: 100%;
  object-fit: contain;
  filter: drop-shadow(0 2px 4px rgba(0, 119, 181, 0.2));
  transition: transform var(--transition-fast);
}

.linkedin-icon-nav:hover img {
  transform: scale(1.1);
  filter: drop-shadow(0 4px 8px rgba(0, 119, 181, 0.3));
}

.nav-links {
  --nav-panel-gap: clamp(1rem, 4vw, 2.75rem);
  list-style: none;
  margin: 0;
  padding: clamp(1.75rem, 4vw, 2.5rem) clamp(1.5rem, 5vw, 3rem);
  display: flex;
  flex-direction: column;
  gap: var(--space-3);
  position: fixed;
  top: calc(var(--header-height) + var(--nav-panel-gap));
  left: var(--nav-panel-gap);
  width: min(90vw, 340px);
  max-height: none;
  background: color-mix(in srgb, var(--soft-white) 96%, rgba(255, 255, 255, 0.9));
  backdrop-filter: blur(24px) saturate(1.1);
  box-shadow:
    var(--shadow-3),
    0 20px 60px rgba(36, 61, 22, 0.25);
  border: 1px solid color-mix(in srgb, var(--sage-300) 35%, transparent);
  border-radius: var(--radius-xl);
  transform: translate3d(-1.25rem, -0.5rem, 0);
  opacity: 0;
  visibility: hidden;
  pointer-events: none;
  transition:
    transform var(--transition-std),
    opacity var(--transition-fast),
    visibility var(--transition-fast);
  z-index: 1100;
  transform-origin: top left;
}

.nav-links li {
  width: 100%;
}

.nav-links a {
  text-decoration: none;
  font-weight: 700;
  font-size: var(--step-0);
  color: var(--sage-700);
  padding: 0.85rem 1.25rem;
  border-radius: var(--radius);
  transition: all var(--transition-fast);
  position: relative;
  overflow: hidden;
  width: 100%;
  display: block;
  text-align: left;
}

.nav-links a::before {
  content: "";
  position: absolute;
  inset: 0;
  background: linear-gradient(135deg, var(--sage-100), var(--amber-100));
  opacity: 0;
  transition: opacity var(--transition-fast);
  z-index: -1;
}

.nav-links a::after {
  content: "";
  position: absolute;
  left: 1.25rem;
  bottom: 0.65rem;
  width: clamp(1.75rem, 20%, 4rem);
  height: 2px;
  border-radius: var(--radius-full);
  background: linear-gradient(90deg, var(--amber-400), var(--sage-500));
  opacity: 0.9;
  transform: scaleX(0);
  transform-origin: left;
  transition: transform var(--transition-std);
}

.nav-links a:hover,
.nav-links a:focus-visible,
.nav-links a[aria-current="page"] {
  color: var(--deep-forest);
}

.nav-links a:hover::before,
.nav-links a:focus-visible::before {
  opacity: 1;
}

.nav-links a:hover::after,
.nav-links a:focus-visible::after,
.nav-links a[aria-current="page"]::after {
  transform: scaleX(1);
}

.nav-links a[aria-current="page"] {
  font-weight: 800;
  box-shadow: none;
}

.nav-links a[aria-current="page"]::before {
  opacity: 0;
}

.donate-btn {
  border-radius: var(--radius-full);
  border: none;
  padding: 0.85rem 2rem;
  font-size: var(--step--1);
  letter-spacing: 0.08em;
  text-transform: uppercase;
  font-weight: 900;
  background: linear-gradient(135deg, var(--amber-500), var(--amber-600));
  color: #fff;
  box-shadow:
    var(--shadow-2),
    0 0 20px rgba(235, 160, 60, 0.12),
    inset 0 1px 0 rgba(255, 255, 255, 0.3);
  cursor: pointer;
  transition: all var(--transition-fast);
  position: relative;
  overflow: hidden;
  text-decoration: none;
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
}

.donate-btn::before {
  content: "";
  position: absolute;
  inset: -50%;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
  transform: translateX(-100%);
  transition: transform var(--transition-slow);
}

.donate-btn:hover {
  transform: translateY(-2px) scale(1.03);
  box-shadow:
    0 16px 40px rgba(235, 160, 60, 0.3),
    0 0 30px rgba(235, 160, 60, 0.2),
    inset 0 1px 0 rgba(255, 255, 255, 0.4);
}

.donate-btn:hover::before {
  transform: translateX(100%);
}

.nav-toggle {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  background: transparent;
  border: 2px solid var(--sage-400);
  font-size: 1.5rem;
  color: var(--deep-forest);
  padding: 0.35rem;
  border-radius: var(--radius);
  cursor: pointer;
  transition: all var(--transition-fast);
  width: var(--target-min);
  height: var(--target-min);
  order: 2;
}

.nav-toggle .material-symbols-rounded {
  transition: transform var(--transition-std);
}

.nav-toggle[aria-expanded="true"] .material-symbols-rounded {
  transform: rotate(90deg);
}

.nav-toggle:hover {
  background: var(--sage-100);
  border-color: var(--sage-500);
}

.nav-links.open {
  transform: translate3d(0, 0, 0);
  opacity: 1;
  visibility: visible;
  pointer-events: auto;
}

/* -------------------------------
   Hero Sections — Premium
----------------------------------*/
.hero {
  position: relative;
  border-radius: var(--radius-2xl);
  overflow: hidden;
  padding: clamp(2rem, 5vw, 4rem) clamp(1.25rem, 3vw, 2.5rem);
  color: #fff;
  background-size: cover;
  background-position: center;
  display: grid;
  gap: var(--space-4);
  backdrop-filter: blur(3px);
  box-shadow:
    var(--shadow-4),
    inset 0 1px 0 rgba(255, 255, 255, 0.2);
}

.hero::after {
  content: "";
  position: absolute;
  inset: 0;
  background:
    linear-gradient(135deg,
      rgba(36,61,22,0.95) 0%,
      rgba(73,88,40,0.75) 35%,
      rgba(122,138,104,0.6) 65%,
      rgba(235,160,60,0.45) 100%);
  z-index: 0;
}

.hero::before {
  content: "";
  position: absolute;
  inset: 0;
  background:
    radial-gradient(ellipse at 30% 30%, rgba(235,160,60,0.3), transparent 60%),
    radial-gradient(ellipse at 80% 70%, rgba(202,204,165,0.2), transparent 50%);
  z-index: 1;
  animation: hero-ambient 10s ease-in-out infinite;
}

@keyframes hero-ambient {
  0%, 100% { opacity: 0.6; }
  50% { opacity: 1; }
}

.hero-content {
  position: relative;
  z-index: 2;
  max-width: 780px;
}

.hero h1 {
  color: #fff;
  text-align: left;
  text-shadow:
    0 2px 4px rgba(0, 0, 0, 0.3),
    0 4px 12px rgba(0, 0, 0, 0.2),
    0 8px 24px rgba(0, 0, 0, 0.15);
  background: none;
  -webkit-text-fill-color: #fff;
  margin-bottom: var(--space-3);
}

.hero p {
  font-size: var(--step-1);
  line-height: 1.6;
  color: rgba(255, 255, 255, 0.95);
  text-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
  margin-bottom: var(--space-3);
}

.hero-actions {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-4);
}

.hero-actions a,
.hero-actions button {
  text-decoration: none;
}

/* -------------------------------
   Section Primitives — Enhanced
----------------------------------*/
.section {
  padding-block: var(--section-padding-block);
  position: relative;
  isolation: isolate;
}

.section::before {
  content: "";
  position: absolute;
  inset: -10% 5%;
  border-radius: 50%;
  background: radial-gradient(ellipse at center, color-mix(in srgb, var(--sage-200) 30%, transparent), transparent 70%);
  opacity: 0.4;
  z-index: -1;
  filter: blur(60px);
}

.section-header {
  text-align: center;
  max-width: 800px;
  margin: 0 auto var(--space-5);
}

.section-title {
  font-family: var(--font-display);
  font-size: var(--step-3);
  margin-bottom: var(--space-2);
  color: var(--forest-shadow);
  position: relative;
  letter-spacing: -0.01em;
  line-height: 1.2;
}

.section-title::after {
  content: "";
  display: block;
  width: 100px;
  height: 5px;
  border-radius: var(--radius-full);
  margin: var(--space-3) auto 0;
  background: var(--golden-hour);
  box-shadow: var(--shadow-glow);
}

.section-subtitle {
  color: var(--ink-muted);
  font-size: var(--step-1);
  line-height: 1.6;
  margin: 0 auto;
  max-width: 65ch;
}

.grid-3 {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: clamp(1.5rem, 4vw, 2.5rem);
}

/* Story feed */
.story-filters {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-3);
  align-items: center;
  justify-content: center;
  margin-inline: auto;
  margin-bottom: var(--space-5);
  max-width: 720px;
}

.filter-btn {
  border: 1px solid color-mix(in srgb, var(--sage-400) 55%, transparent);
  background: color-mix(in srgb, var(--warm-cream) 70%, rgba(255,255,255,0.7));
  color: var(--forest-green);
  font-weight: 600;
  border-radius: var(--radius-full);
  padding: 0.5rem 1.25rem;
  cursor: pointer;
  transition: background var(--transition-fast), color var(--transition-fast), border var(--transition-fast), box-shadow var(--transition-fast);
  min-width: 44px;
  min-height: 44px;
}

.filter-btn:hover,
.filter-btn:focus-visible {
  background: color-mix(in srgb, var(--amber-100) 70%, rgba(255,255,255,0.8));
  border-color: color-mix(in srgb, var(--amber-400) 45%, transparent);
  color: var(--forest-green);
  box-shadow: var(--shadow-sm);
}

.filter-btn.is-active {
  background: linear-gradient(135deg, var(--amber-300), var(--amber-500));
  color: #1f1f1f;
  border-color: transparent;
  box-shadow: var(--shadow-1);
}

.story-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: clamp(1.5rem, 4vw, 3rem);
  margin-top: var(--space-5);
}

.story-control-panel {
  margin-top: clamp(1.5rem, 5vw, 3rem);
}

.story-control-panel .section-header {
  align-items: flex-start;
  gap: clamp(1rem, 4vw, 2.5rem);
}

@media (min-width: 960px) {
  .story-control-panel .section-header {
    flex-direction: row;
    justify-content: space-between;
    align-items: center;
  }
}

.story-filter-bar {
  display: grid;
  gap: clamp(1rem, 3vw, 2rem);
  padding: clamp(1.25rem, 3vw, 2.25rem);
  border-radius: var(--radius-xl);
  border: 1px solid color-mix(in srgb, var(--sage-200) 55%, transparent);
  background: color-mix(in srgb, var(--warm-cream) 80%, rgba(255, 255, 255, 0.9));
  box-shadow: var(--shadow-1);
}

@media (min-width: 768px) {
  .story-filter-bar {
    grid-template-columns: repeat(2, minmax(0, 1fr));
    align-items: start;
  }
}

.filter-group {
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
}

.filter-label {
  font-size: var(--step--1);
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: var(--ink-muted);
}

.filter-chip-row {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
}

.date-inputs {
  display: flex;
  flex-wrap: wrap;
  gap: 0.75rem;
  align-items: flex-end;
}

.date-inputs label {
  display: flex;
  flex-direction: column;
  gap: 0.35rem;
  font-size: var(--step--1);
  color: var(--ink-muted);
}

.date-inputs input[type="date"] {
  border: 1px solid color-mix(in srgb, var(--sage-400) 50%, transparent);
  border-radius: var(--radius-md);
  padding: 0.65rem 0.75rem;
  font: inherit;
  color: var(--forest-green);
  background: rgba(255, 255, 255, 0.9);
  min-width: 180px;
}

.date-inputs input[type="date"]:focus-visible {
  outline: 2px solid color-mix(in srgb, var(--amber-400) 55%, transparent);
  outline-offset: 2px;
}

.story-feed-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
  gap: clamp(1.5rem, 4vw, 3rem);
}

.story-feed-card {
  background: color-mix(in srgb, var(--soft-white) 85%, rgba(255, 255, 255, 0.9));
  border: 1px solid color-mix(in srgb, var(--sage-200) 60%, transparent);
  border-radius: var(--radius-xl);
  box-shadow: var(--shadow-1);
  overflow: hidden;
  display: flex;
  flex-direction: column;
  min-height: 100%;
}

.story-feed-media {
  position: relative;
  aspect-ratio: 4 / 3;
  overflow: hidden;
}

.story-feed-media img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform var(--transition-fast), filter var(--transition-fast);
}

.story-feed-card:hover .story-feed-media img,
.story-feed-card:focus-within .story-feed-media img {
  transform: scale(1.04);
  filter: brightness(1.05);
}

.story-feed-content {
  display: flex;
  flex-direction: column;
  gap: 0.85rem;
  padding: clamp(1.25rem, 3vw, 1.75rem);
}

.story-feed-eyebrow {
  text-transform: uppercase;
  letter-spacing: 0.08em;
  font-size: var(--step--1);
  color: var(--ink-muted);
  margin: 0;
}

.story-feed-content h3 {
  margin: 0;
  font-size: clamp(1.25rem, 2vw, 1.5rem);
}

.story-feed-content p {
  margin: 0;
  color: var(--ink-muted);
}

.story-hashtags {
  list-style: none;
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
  padding: 0;
  margin: 0;
}

.story-hashtags li {
  font-size: var(--step--1);
  font-weight: 600;
  color: var(--forest-green);
  background: color-mix(in srgb, var(--sage-200) 30%, rgba(255, 255, 255, 0.7));
  border-radius: var(--radius-full);
  padding: 0.25rem 0.75rem;
}

.story-feed-footer {
  margin-top: auto;
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 0.75rem;
  flex-wrap: wrap;
}

.story-card-link {
  font-weight: 600;
  color: var(--forest-green);
  text-decoration: none;
  display: inline-flex;
  align-items: center;
  gap: 0.25rem;
}

.story-card-link::after {
  content: '\2192';
  font-size: 1.25rem;
  transition: transform var(--transition-fast);
}

.story-card-link:hover::after,
.story-card-link:focus-visible::after {
  transform: translateX(4px);
}

.story-empty-state {
  margin-top: clamp(1.5rem, 4vw, 2.5rem);
  text-align: center;
  font-size: var(--step-0);
  color: var(--ink-muted);
}

.story-empty-state[hidden] {
  display: none !important;
}

@media (max-width: 640px) {
  .date-inputs {
    flex-direction: column;
    align-items: stretch;
  }

  .date-inputs input[type="date"] {
    width: 100%;
  }
}

.story-ticker {
  padding-top: clamp(1.5rem, 4vw, 2.5rem);
}

.story-ticker-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
  gap: var(--space-4);
  margin-top: var(--space-4);
}

.ticker-card {
  background: linear-gradient(145deg, rgba(255,255,255,0.9), rgba(255,255,255,0.6));
  border-radius: var(--radius-lg);
  border: 1px solid var(--border-sage);
  padding: var(--space-4);
  min-height: 220px;
  box-shadow: var(--shadow-1);
}

.ticker-eyebrow,
.digest-eyebrow,
.digest-card-eyebrow {
  font-size: var(--step--1);
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: var(--sage-600);
  margin: 0 0 var(--space-2);
}

.ticker-card h3 {
  margin: 0 0 var(--space-2);
  font-size: var(--step-1);
}

.ticker-meta {
  display: inline-flex;
  align-items: center;
  gap: var(--space-2);
  font-size: var(--step--1);
  color: var(--ink-muted);
  margin-top: var(--space-3);
}

.story-digest {
  margin-top: clamp(0.5rem, 2vw, 1.5rem);
}

.digest-layout {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: clamp(1.5rem, 4vw, 3rem);
  align-items: start;
}

.digest-list {
  display: flex;
  flex-direction: column;
  gap: var(--space-4);
}

.digest-item {
  background: color-mix(in srgb, var(--soft-white) 90%, rgba(255,255,255,0.4));
  border-radius: var(--radius-lg);
  border: 1px solid var(--border-sage);
  padding: var(--space-4);
  box-shadow: var(--shadow-sm);
}

.digest-item h3 {
  margin: 0 0 var(--space-2);
  font-size: var(--step-1);
}

.digest-card {
  background: color-mix(in srgb, var(--sage-50) 85%, rgba(255,255,255,0.6));
  border-radius: var(--radius-xl);
  border: 1px solid color-mix(in srgb, var(--sage-300) 45%, transparent);
  padding: clamp(1.5rem, 4vw, 2.5rem);
  box-shadow: var(--shadow-1);
}

.digest-card ul {
  padding-left: 1.25rem;
  color: var(--ink);
  margin: 0 0 var(--space-4);
}

.deep-dives {
  padding-top: clamp(1rem, 3vw, 2rem);
}

.deep-dive-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
  gap: clamp(1.5rem, 3vw, 2.5rem);
}

.deep-dive-card {
  background: linear-gradient(135deg, rgba(255,255,255,0.95), rgba(255,255,255,0.75));
  border-radius: var(--radius-2xl);
  border: 1px solid var(--border-sage);
  overflow: hidden;
  box-shadow: var(--shadow-2);
  display: flex;
  flex-direction: column;
}

.deep-dive-media img {
  width: 100%;
  height: 240px;
  object-fit: cover;
  display: block;
}

.deep-dive-content {
  padding: clamp(1.25rem, 3vw, 2rem);
  display: flex;
  flex-direction: column;
  gap: var(--space-3);
}

.deep-dive-content ul {
  margin: 0;
  padding-left: 1.25rem;
  color: var(--ink);
}

.featured-post {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: clamp(1.25rem, 3vw, 2.5rem);
  padding: clamp(1.25rem, 3vw, 2.25rem);
  border-radius: var(--radius-2xl);
  background:
    linear-gradient(145deg,
      color-mix(in srgb, var(--soft-white) 92%, var(--sage-50) 8%),
      color-mix(in srgb, var(--soft-white) 80%, var(--sage-100) 20%));
  box-shadow: var(--shadow-2);
}

.featured-post-media {
  border-radius: var(--radius-xl);
  overflow: hidden;
  min-height: 280px;
}

.featured-post-media img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

.featured-post-body {
  display: flex;
  flex-direction: column;
  gap: var(--space-3);
}

.featured-post-eyebrow {
  margin: 0;
  font-size: var(--step--1);
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: var(--sage-600);
}

.featured-post-meta {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-4);
  font-size: var(--step--1);
  color: var(--ink-muted);
  margin-top: auto;
  border-top: 1px solid var(--border-sage);
  padding-top: var(--space-4);
}

.category-section .post-grid {
  margin-top: 0;
}

.category-section .post-card {
  min-height: 100%;
}

.category-section .activity-btn {
  margin-top: var(--space-4);
}

.insight-band {
  overflow: visible;
}

.insight-band-header {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  align-items: center;
  gap: var(--space-4);
  margin-bottom: var(--space-5);
}

.insight-band .section-title {
  margin-bottom: var(--space-3);
}

.insight-band .section-title::after {
  display: none;
}

.insight-band-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: var(--space-4);
}

.insight-band-card {
  background: color-mix(in srgb, var(--soft-white) 92%, rgba(255,255,255,0));
  border-radius: var(--radius-lg);
  border: 1px solid color-mix(in srgb, var(--sage-400) 35%, transparent);
  padding: clamp(1rem, 3vw, 1.5rem);
  box-shadow: var(--shadow-1);
  display: flex;
  flex-direction: column;
  gap: var(--space-2);
  min-height: 100%;
}

.insight-band-card h3 {
  margin: 0;
  font-size: var(--step-1);
  color: var(--forest-shadow);
}

.insight-band-card p {
  margin: 0;
}

.insight-band-eyebrow {
  font-size: var(--step--1);
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: var(--sage-600);
}

.insight-band-link {
  margin-top: auto;
  font-weight: 600;
  color: var(--olive-green);
  text-decoration: none;
  display: inline-flex;
  align-items: center;
  gap: var(--space-2);
}

.insight-band-link::after {
  content: "\e941";
  font-family: 'Material Symbols Rounded';
  font-size: 1.25rem;
}

.insight-band-card:hover {
  border-color: var(--amber-400);
  box-shadow: var(--shadow-2);
}

@media (max-width: 768px) {
  .featured-post {
    grid-template-columns: 1fr;
  }

  .featured-post-meta {
    flex-direction: column;
    gap: var(--space-2);
  }
}

.story-card {
  border-radius: var(--radius-xl);
  background: color-mix(in srgb, var(--warm-cream) 85%, rgba(255,255,255,0.9));
  box-shadow: var(--shadow-1);
  overflow: hidden;
  transition: transform var(--transition-std), box-shadow var(--transition-std);
  position: relative;
}

.story-card[hidden] {
  display: none;
}

.story-card-link {
  color: inherit;
  text-decoration: none;
  display: flex;
  flex-direction: column;
  height: 100%;
}

.story-card-media {
  position: relative;
  width: 100%;
  aspect-ratio: 4 / 3;
  overflow: hidden;
}

.story-card-media img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
  transition: transform var(--transition-std);
}

.story-card-body {
  padding: var(--space-6);
  display: flex;
  flex-direction: column;
  gap: var(--space-3);
}

.story-card-eyebrow {
  text-transform: uppercase;
  letter-spacing: 0.08em;
  font-size: var(--step--1);
  color: var(--sage-600);
  margin: 0;
}

.story-card-title {
  margin: 0;
  font-size: clamp(1.25rem, 1.1rem + 0.6vw, 1.75rem);
  color: var(--forest-green);
}

.story-card-excerpt {
  margin: 0;
  color: var(--ink);
}

.story-card-meta {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-4);
  font-size: var(--step--1);
  color: var(--ink-muted);
  margin-top: auto;
}

.story-card:hover,
.story-card:focus-within {
  transform: translateY(-6px);
  box-shadow: var(--shadow-2);
}

.story-card:hover img,
.story-card:focus-within img {
  transform: scale(1.05);
}

.story-article {
  max-width: 900px;
  margin: 0 auto;
  display: flex;
  flex-direction: column;
  gap: var(--space-5);
}

.story-article-header {
  display: flex;
  flex-direction: column;
  gap: var(--space-3);
}

.story-article-header h1 {
  font-size: clamp(2rem, 1.8rem + 1vw, 3rem);
  margin: 0;
  color: var(--forest-green);
}

.story-article-subtitle {
  margin: 0;
  font-size: var(--step-1);
  color: var(--ink);
}

.story-article-meta {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-5);
  font-size: var(--step--1);
  color: var(--ink-muted);
  padding: var(--space-4) 0;
  border-top: 1px solid var(--border-sage);
  border-bottom: 1px solid var(--border-sage);
}

.story-article-meta div {
  display: flex;
  flex-direction: column;
  gap: 0.15rem;
}

.story-article-meta dt {
  font-weight: 600;
  color: var(--forest-green);
}

.story-article-meta dd {
  margin: 0;
}

.story-article-body {
  display: flex;
  flex-direction: column;
  gap: var(--space-4);
  color: var(--ink);
}

.story-article-body p {
  margin: 0;
}

.story-article-body h2,
.story-article-body h3 {
  margin-bottom: var(--space-2);
  margin-top: var(--space-5);
  color: var(--forest-green);
}

.story-article-quote {
  border-left: 4px solid var(--amber-400);
  padding-left: var(--space-4);
  font-style: italic;
  color: var(--forest-green);
  margin: var(--space-4) 0;
}

.story-article-list {
  padding-left: 1.25rem;
  margin: 0;
  display: grid;
  gap: var(--space-2);
}

.story-article-list li {
  margin: 0;
}

.story-downloads {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-3);
  margin-top: var(--space-2);
}

@media (max-width: 600px) {
  .story-card-body {
    padding: var(--space-5);
  }

  .story-card-meta {
    flex-direction: column;
    gap: var(--space-2);
  }

  .story-article {
    padding-inline: var(--space-2);
  }
}

.grid-2 {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
  gap: clamp(1.5rem, 5vw, 3.5rem);
}

.join-team-cta {
  display: flex;
  justify-content: center;
}

.volunteer-cta {
  text-align: center;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--space-4);
  border-radius: var(--radius-2xl);
  max-width: 720px;
  width: 100%;
}

.volunteer-cta .section-title {
  margin-bottom: var(--space-3);
}

.volunteer-cta .section-subtitle {
  margin-inline: auto;
  color: var(--ink);
}

.volunteer-btn {
  margin-top: var(--space-2);
  text-transform: none;
  letter-spacing: 0.02em;
  font-size: var(--step--1);
  padding: 0.65rem 1.5rem;
  border-radius: var(--radius-lg);
  min-width: 0;
  align-self: center;
}

.partner-support {
  display: grid;
  gap: var(--space-7);
  margin-top: var(--space-7);
}

.partner-logos {
  list-style: none;
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: clamp(1.5rem, 4vw, 2.5rem);
  margin: 0;
  padding: 0;
}

.partner-logo-card {
  background: linear-gradient(135deg, color-mix(in srgb, var(--soft-white) 95%, var(--sage-50) 5%), var(--soft-white));
  border-radius: var(--radius-lg);
  padding: var(--space-6);
  border: 1px solid color-mix(in srgb, var(--sage-300) 40%, transparent);
  box-shadow: var(--shadow-1);
  text-align: center;
  display: flex;
  flex-direction: column;
  gap: var(--space-4);
}

.partner-logo-card img {
  max-width: clamp(140px, 60%, 200px);
  margin: 0 auto;
  height: auto;
  filter: drop-shadow(0 6px 18px rgba(0, 0, 0, 0.12));
}

.partner-logo-card p {
  margin: 0;
  color: var(--ink);
}

.partner-invite {
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  gap: var(--space-5);
  max-width: 720px;
  margin: 0 auto;
}

.partner-invite .section-title {
  margin-bottom: 0;
}

.partner-invite-copy {
  margin: 0;
  max-width: 52ch;
  color: var(--ink);
}

.partner-cta {
  padding: 0.45rem 1.75rem;
  border-radius: var(--radius);
  font-size: var(--step-0);
  letter-spacing: 0.02em;
  text-transform: none;
  min-height: auto;
}

/* -------------------------------
   Cards — Premium Design
----------------------------------*/
.card {
  padding: clamp(1.5rem, 4vw, 2.5rem);
  border-radius: var(--radius-xl);
  border: 2px solid color-mix(in srgb, var(--sage-300) 35%, transparent);
  background:
    linear-gradient(145deg,
      color-mix(in srgb, var(--soft-white) 90%, var(--sage-50) 10%),
      color-mix(in srgb, var(--soft-white) 85%, var(--sage-100) 15%));
  box-shadow:
    var(--shadow-2),
    inset 0 1px 0 rgba(255, 255, 255, 0.7);
  position: relative;
  overflow: hidden;
  transition: all var(--transition-std);
}

/* Toned-down informational card for static content */
.info-card {
  padding: clamp(1.5rem, 4vw, 2.25rem);
  border-radius: var(--radius-lg);
  border: 1px solid color-mix(in srgb, var(--sage-200) 55%, transparent);
  background: color-mix(in srgb, var(--soft-white) 92%, var(--sage-50) 8%);
  box-shadow: none;
  position: relative;
  display: flex;
  flex-direction: column;
  gap: var(--space-4);
  cursor: default;
  transition: none;
}

.info-card .info-card-icon {
  font-size: clamp(2.25rem, 2vw, 2.75rem);
  color: var(--sage-600);
  background: color-mix(in srgb, var(--sage-100) 60%, transparent);
  border-radius: var(--radius);
  padding: 0.5rem;
  width: fit-content;
  line-height: 1;
  font-variation-settings: "FILL" 0, "wght" 500, "GRAD" 0, "opsz" 48;
}

.info-card .info-card-icon::selection {
  background: transparent;
}

.info-card h3 {
  margin: 0;
  font-size: var(--step-1);
  color: var(--forest-green);
}

.info-card p {
  margin: 0;
  color: var(--ink);
}

.info-card:hover {
  transform: none;
  box-shadow: none;
  border-color: color-mix(in srgb, var(--sage-200) 55%, transparent);
}

.card::before {
  content: "";
  position: absolute;
  top: 0;
  right: 0;
  width: 200px;
  height: 200px;
  background: radial-gradient(circle, var(--amber-200), transparent 65%);
  opacity: 0.3;
  pointer-events: none;
  transition: all var(--transition-slow);
}

.card::after {
  content: "";
  position: absolute;
  inset: -1px;
  background: var(--golden-hour);
  opacity: 0;
  border-radius: inherit;
  z-index: -1;
  transition: opacity var(--transition-std);
}

.card:hover {
  transform: translateY(-6px) scale(1.01);
  box-shadow:
    var(--shadow-4),
    var(--shadow-glow);
  border-color: var(--amber-400);
}

.card:hover::before {
  transform: translate(20px, -20px) scale(1.2);
  opacity: 0.5;
}

.card:hover::after {
  opacity: 0.05;
}

.card h3 {
  margin-top: 0;
  position: relative;
  z-index: 1;
}

/* Team carousel */
.team-showcase {
  border-radius: var(--radius-2xl);
  box-shadow: var(--shadow-2);
  background:
    linear-gradient(135deg,
      color-mix(in srgb, var(--soft-white) 92%, var(--sage-50) 8%),
      color-mix(in srgb, var(--soft-white) 85%, var(--sage-100) 15%));
}

.team-carousel {
  margin-top: var(--space-6);
  padding: clamp(1.5rem, 4vw, 3rem);
  border-radius: var(--radius-2xl);
  border: 1px solid color-mix(in srgb, var(--sage-400) 40%, transparent);
  background:
    radial-gradient(circle at top right, color-mix(in srgb, var(--amber-100) 35%, transparent), transparent 55%),
    linear-gradient(145deg,
      color-mix(in srgb, var(--soft-white) 95%, var(--sage-50) 5%),
      color-mix(in srgb, var(--soft-white) 85%, var(--sage-100) 15%));
  position: relative;
  overflow: hidden;
}

.carousel-top {
  display: flex;
  justify-content: flex-end;
  align-items: center;
  gap: var(--space-5);
  flex-wrap: wrap;
}

.carousel-controls {
  display: flex;
  align-items: center;
  gap: var(--space-4);
  flex-wrap: wrap;
}

.carousel-status {
  margin: 0;
  font-weight: 700;
  color: var(--forest-green);
}

.carousel-buttons {
  display: inline-flex;
  gap: var(--space-2);
}

.carousel-btn {
  width: 48px;
  height: 48px;
  border-radius: var(--radius-full);
  border: 1px solid color-mix(in srgb, var(--sage-400) 35%, transparent);
  background: color-mix(in srgb, var(--soft-white) 90%, var(--sage-100) 10%);
  color: var(--forest-green);
  box-shadow: var(--shadow-1);
  display: grid;
  place-items: center;
  transition: transform var(--transition-fast), box-shadow var(--transition-fast), background var(--transition-fast);
}

.carousel-btn:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-2);
}

.carousel-btn:disabled {
  opacity: 0.35;
  cursor: not-allowed;
  transform: none;
  box-shadow: none;
}

.carousel-track {
  margin-top: var(--space-5);
  display: grid;
  grid-auto-flow: column;
  grid-auto-columns: minmax(280px, min(32vw, 360px));
  gap: clamp(1rem, 3vw, 1.5rem);
  overflow-x: auto;
  scroll-snap-type: x mandatory;
  padding-bottom: var(--space-3);
  scrollbar-width: thin;
  scrollbar-color: color-mix(in srgb, var(--sage-500) 45%, var(--sage-200) 55%) transparent;
}

.carousel-track:focus-visible {
  outline: none;
  box-shadow: var(--ring-amber);
}

.carousel-track::-webkit-scrollbar {
  height: 8px;
}

.carousel-track::-webkit-scrollbar-track {
  background: transparent;
}

.carousel-track::-webkit-scrollbar-thumb {
  background: color-mix(in srgb, var(--sage-500) 45%, var(--sage-200) 55%);
  border-radius: var(--radius-full);
}

.person-card {
  display: flex;
  flex-direction: column;
  gap: var(--space-4);
  padding: var(--space-4);
  border-radius: var(--radius-2xl);
  border: 1px solid color-mix(in srgb, var(--sage-300) 40%, transparent);
  background:
    linear-gradient(165deg,
      color-mix(in srgb, var(--soft-white) 92%, var(--sage-50) 8%),
      color-mix(in srgb, var(--soft-white) 80%, var(--sage-200) 20%));
  box-shadow: var(--shadow-1);
  scroll-snap-align: start;
  min-height: 100%;
}

.person-media {
  border-radius: var(--radius-xl);
  overflow: hidden;
  aspect-ratio: 4 / 3;
  background: var(--sage-100);
}

.person-media img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

.person-content {
  display: flex;
  flex-direction: column;
  gap: var(--space-3);
  flex: 1;
}

.person-team {
  margin: 0;
  text-transform: uppercase;
  letter-spacing: 0.12em;
  font-size: var(--step--1);
  color: var(--sage-600);
  font-weight: 700;
}

.role-chip-slot {
  min-height: 3rem;
  display: flex;
  align-items: center;
  justify-content: center;
}

.role-chip {
  background: color-mix(in srgb, var(--amber-50) 75%, var(--soft-white) 25%);
  border-color: color-mix(in srgb, var(--amber-300) 50%, transparent);
  color: var(--forest-green);
  letter-spacing: 0.08em;
}

.person-card .role-chip {
  width: 100%;
  justify-content: center;
  min-height: 2.4rem;
  font-size: clamp(0.6rem, 1.4vw, 0.8rem);
  text-transform: uppercase;
  text-align: center;
}

.person-bio {
  margin: 0;
  color: var(--ink);
  flex: 1;
}

.person-highlights {
  list-style: none;
  margin: 0;
  padding: 0;
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-2);
}

.person-highlights li {
  background: color-mix(in srgb, var(--sage-100) 70%, rgba(255, 255, 255, 0.8) 30%);
  border-radius: var(--radius-full);
  padding: 0.35rem 0.9rem;
  font-size: var(--step--1);
  font-weight: 700;
  color: var(--forest-green);
}

@media (max-width: 900px) {
  .carousel-track {
    grid-auto-columns: minmax(70%, 1fr);
  }
}

@media (max-width: 600px) {
  .carousel-track {
    grid-auto-columns: minmax(85%, 1fr);
  }
  .carousel-controls {
    width: 100%;
    justify-content: space-between;
  }
}

.stat-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: var(--space-6);
}

.stat-card {
  background:
    linear-gradient(135deg,
      color-mix(in srgb, var(--soft-white) 90%, var(--amber-50) 10%),
      color-mix(in srgb, var(--soft-white) 85%, var(--sage-50) 15%));
  border-radius: var(--radius-lg);
  padding: var(--space-6);
  text-align: center;
  box-shadow:
    var(--shadow-2),
    inset 0 1px 0 rgba(255, 255, 255, 0.7);
  border: 2px solid color-mix(in srgb, var(--amber-300) 30%, transparent);
  transition: all var(--transition-std);
  position: relative;
  overflow: hidden;
}

.stat-card::before {
  content: "";
  position: absolute;
  inset: -50%;
  background: conic-gradient(from 0deg, transparent, var(--amber-200), transparent 30%);
  opacity: 0;
  transition: all var(--transition-slow);
  animation: stat-rotate 8s linear infinite;
  animation-play-state: paused;
}

@keyframes stat-rotate {
  to { transform: rotate(360deg); }
}

.stat-card:hover {
  transform: translateY(-4px) scale(1.02);
  box-shadow:
    var(--shadow-3),
    var(--shadow-glow);
  border-color: var(--amber-500);
}

.stat-card:hover::before {
  opacity: 0.2;
  animation-play-state: running;
}

.stat-card span {
  font-size: clamp(2.5rem, 6vw, 3.5rem);
  font-weight: 900;
  display: block;
  background: var(--golden-hour);
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  margin-bottom: var(--space-2);
  position: relative;
  z-index: 1;
}

.stat-card p {
  font-weight: 600;
  color: var(--sage-700);
  position: relative;
  z-index: 1;
}

.stat-progress {
  margin-top: var(--space-3);
  display: flex;
  flex-direction: column;
  gap: var(--space-1);
  align-items: center;
}

.stat-progress-track {
  width: 100%;
  height: 8px;
  border-radius: 999px;
  background: color-mix(in srgb, var(--sage-200) 40%, transparent);
  overflow: hidden;
  position: relative;
}

.stat-progress-fill {
  position: absolute;
  inset: 0 auto 0 0;
  width: 0%;
  background: linear-gradient(90deg, var(--amber-400), var(--amber-600));
  border-radius: inherit;
  transition: width var(--transition-slow);
}

.stat-progress .progress-value {
  font-size: var(--step-0);
  font-weight: 700;
  color: var(--sage-800);
}

.testimonial {
  padding: var(--space-7) var(--space-6);
  border-left: 5px solid var(--amber-500);
  background:
    linear-gradient(135deg,
      color-mix(in srgb, var(--sage-50) 40%, var(--amber-50) 60%),
      color-mix(in srgb, var(--soft-white) 90%, var(--sage-100) 10%));
  font-style: italic;
  font-size: var(--step-1);
  line-height: 1.8;
  border-radius: var(--radius-lg);
  box-shadow:
    var(--shadow-2),
    inset 0 1px 0 rgba(255, 255, 255, 0.6);
  position: relative;
  overflow: hidden;
}

.testimonial::before {
  content: '"';
  position: absolute;
  top: -10px;
  left: 20px;
  font-size: 6rem;
  font-family: Georgia, serif;
  color: var(--amber-300);
  opacity: 0.3;
  line-height: 1;
}

/* -------------------------------
   Blog & Stories
----------------------------------*/
.post-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: var(--space-6);
}

.post-card {
  display: flex;
  flex-direction: column;
  background:
    linear-gradient(145deg,
      color-mix(in srgb, var(--soft-white) 95%, var(--sage-50) 5%),
      color-mix(in srgb, var(--soft-white) 90%, var(--sage-100) 10%));
  border-radius: var(--radius-xl);
  border: 2px solid color-mix(in srgb, var(--sage-300) 30%, transparent);
  overflow: hidden;
  box-shadow:
    var(--shadow-2),
    inset 0 1px 0 rgba(255, 255, 255, 0.7);
  transition: all var(--transition-std);
}

.post-card:hover {
  transform: translateY(-6px);
  box-shadow:
    var(--shadow-4),
    var(--shadow-glow);
  border-color: var(--amber-400);
}

.post-card img {
  width: 100%;
  height: 220px;
  object-fit: cover;
  transition: transform var(--transition-slow);
}

.post-card:hover img {
  transform: scale(1.08);
}

.post-card-content {
  padding: var(--space-5);
  flex: 1;
  display: flex;
  flex-direction: column;
}

.post-card h3 {
  margin-top: 0;
  font-size: var(--step-2);
}

.post-card p {
  flex: 1;
  color: var(--ink-muted);
  line-height: 1.7;
}

.post-card a {
  margin-top: var(--space-4);
  align-self: flex-start;
  font-weight: 700;
  color: var(--amber-600);
  padding: 0.5rem 0;
}

/* -------------------------------
   Footer — Premium
----------------------------------*/
.site-footer {
  background:
    linear-gradient(150deg,
      var(--deep-green) 0%,
      var(--forest-green) 50%,
      var(--sage-800) 100%);
  color: #fff;
  margin-top: var(--space-9);
  position: relative;
  overflow: hidden;
}

.site-footer::before {
  content: "";
  position: absolute;
  inset: 0;
  background:
    radial-gradient(ellipse at 20% 0%, rgba(235,160,60,0.15), transparent 50%),
    radial-gradient(ellipse at 80% 100%, rgba(202,204,165,0.1), transparent 50%);
  pointer-events: none;
}

.footer-columns {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
  gap: clamp(1.5rem, 3vw, 2.75rem);
  padding: clamp(2rem, 5vw, 3.5rem) clamp(1.25rem, 4vw, 2.5rem);
  position: relative;
  z-index: 1;
}

.footer-column h4 {
  margin-top: 0;
  margin-bottom: var(--space-4);
  letter-spacing: 0.08em;
  text-transform: uppercase;
  font-size: var(--step-1);
  color: var(--amber-300);
  font-weight: 800;
}

.footer-column ul {
  list-style: none;
  padding: 0;
  margin: 0;
  display: flex;
  flex-direction: column;
  gap: var(--space-3);
}

.footer-column li {
  display: flex;
  align-items: center;
  gap: var(--space-2);
}

.footer-column li::before {
  content: "•";
  color: var(--amber-400);
  font-size: var(--step-1);
  font-weight: 900;
  flex-shrink: 0;
}

.footer-column a {
  color: rgba(255, 255, 255, 0.85);
  text-decoration: none;
  display: inline-flex;
  gap: 0.5rem;
  align-items: center;
  padding: 0.35rem 0;
  transition: all var(--transition-fast);
  position: relative;
}

.footer-column a::after {
  content: "";
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 1px;
  background: currentColor;
  transform: scaleX(0);
  transform-origin: left;
  transition: transform var(--transition-fast);
}

.footer-column a:hover {
  color: var(--sage-200);
  transform: translateX(4px);
}

.footer-column a:hover::after {
  transform: scaleX(1);
}

.footer-column .social-link {
  display: inline-flex;
  align-items: center;
  gap: 0.4rem;
}

.footer-column .social-link img {
  width: 1.25rem;
  height: 1.25rem;
  display: block;
}

.sub-footer {
  border-top: 1px solid rgba(255,255,255,0.15);
  padding: 1.25rem clamp(1.25rem, 4vw, 2.5rem);
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-4);
  justify-content: space-between;
  align-items: center;
  position: relative;
  z-index: 1;
  font-size: var(--step--1);
  color: rgba(255, 255, 255, 0.75);
}

.sub-footer-links {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  flex-wrap: wrap;
}

.sub-footer a {
  color: rgba(255, 255, 255, 0.85);
  text-decoration: none;
  transition: color var(--transition-fast);
}

.sub-footer a:hover {
  color: var(--amber-200);
}

.social-icon-link {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 0.5rem;
  border-radius: var(--radius);
  background: rgba(255, 255, 255, 0.1);
  transition: all var(--transition-fast);
  text-decoration: none;
}

.social-icon-link:hover {
  background: rgba(255, 255, 255, 0.2);
  transform: translateY(-2px);
}

.social-icon-link .social-icon {
  filter: brightness(0) invert(1);
  opacity: 0.9;
  transition: opacity var(--transition-fast);
}

.social-icon-link:hover .social-icon {
  opacity: 1;
}

/* -------------------------------
   Accordions & Tabs — Enhanced
----------------------------------*/
.accordion {
  border-radius: var(--radius-lg);
  overflow: hidden;
  border: 2px solid color-mix(in srgb, var(--sage-300) 35%, transparent);
  box-shadow: var(--shadow-2);
}

.accordion-item + .accordion-item {
  border-top: 1px solid color-mix(in srgb, var(--sage-300) 25%, transparent);
}

.accordion-trigger {
  width: 100%;
  text-align: left;
  padding: 1.25rem 1.5rem;
  font-size: var(--step-0);
  font-weight: 700;
  background:
    linear-gradient(135deg,
      color-mix(in srgb, var(--soft-white) 95%, var(--sage-50) 5%),
      color-mix(in srgb, var(--soft-white) 90%, var(--sage-100) 10%));
  border: none;
  display: flex;
  align-items: center;
  justify-content: space-between;
  cursor: pointer;
  transition: all var(--transition-std);
  color: var(--sage-700);
}

.accordion-trigger:hover {
  background: linear-gradient(135deg, var(--sage-100), var(--amber-50));
  color: var(--deep-forest);
}

.accordion-trigger .icon {
  transition: transform var(--transition-std);
}

.accordion-trigger[aria-expanded="true"] .icon {
  transform: rotate(180deg);
}

.accordion-panel {
  padding: 0;
  max-height: 0;
  overflow: hidden;
  transition: all var(--transition-std);
}

.accordion-panel.open {
  padding: var(--space-4) var(--space-6);
  max-height: 1000px;
}

.tabset {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-3);
  margin-bottom: var(--space-5);
  padding: var(--space-2);
  background: color-mix(in srgb, var(--sage-100) 50%, transparent);
  border-radius: var(--radius-lg);
}

.tabset button {
  border: 2px solid transparent;
  border-radius: var(--radius-full);
  padding: 0.65rem 1.75rem;
  background: transparent;
  cursor: pointer;
  font-weight: 700;
  font-size: var(--step--1);
  color: var(--sage-600);
  transition: all var(--transition-fast);
}

.tabset button:hover {
  background: color-mix(in srgb, var(--sage-200) 50%, transparent);
  color: var(--deep-forest);
}

.tabset button[aria-selected="true"] {
  background: var(--golden-hour);
  color: #fff;
  border-color: var(--amber-600);
  box-shadow:
    var(--shadow-1),
    var(--shadow-glow);
}

/* -------------------------------
   Utility Classes — Enhanced
----------------------------------*/
.chip {
  display: inline-flex;
  align-items: center;
  gap: 0.35rem;
  padding: 0.45rem 1.1rem;
  border-radius: var(--radius-full);
  background: var(--deep-forest);
  color: var(--cream);
  font-weight: 800;
  font-size: var(--step--1);
  border: 2px solid var(--sage-600);
  box-shadow: var(--shadow-sm);
  transition: all var(--transition-fast);
}

.chip:hover {
  transform: translateY(-1px);
  box-shadow: var(--shadow-1);
  background: var(--forest-green);
}

.icon-bullet {
  display: flex;
  gap: var(--space-3);
  align-items: flex-start;
  padding: var(--space-2) 0;
}

.icon-bullet span.material-symbols-rounded {
  font-size: 1.75rem;
  color: var(--amber-600);
  flex-shrink: 0;
}

.checklist {
  list-style: none;
  padding: 0;
  margin: 0;
  display: grid;
  gap: var(--space-3);
}

.checklist li {
  display: flex;
  gap: var(--space-3);
  align-items: flex-start;
  padding: var(--space-2);
  border-radius: var(--radius);
  transition: all var(--transition-fast);
}

.checklist li:hover {
  background: color-mix(in srgb, var(--sage-100) 40%, transparent);
  transform: translateX(4px);
}

.checklist .material-symbols-rounded {
  color: var(--amber-600);
  font-size: 1.5rem;
  flex-shrink: 0;
}

blockquote {
  margin: var(--space-6) 0;
  padding-left: var(--space-5);
  border-left: 5px solid var(--amber-500);
  font-style: italic;
  font-size: var(--step-1);
  color: var(--sage-700);
  position: relative;
}

.table-surface {
  width: 100%;
  border-collapse: collapse;
  background: var(--soft-white);
  border-radius: var(--radius-lg);
  overflow: hidden;
  box-shadow: var(--shadow-2);
  border: 2px solid color-mix(in srgb, var(--sage-300) 30%, transparent);
}

.table-surface th,
.table-surface td {
  padding: 1rem 1.25rem;
  border-bottom: 1px solid color-mix(in srgb, var(--sage-300) 25%, transparent);
  text-align: left;
}

.table-surface th {
  background: linear-gradient(135deg, var(--sage-100), var(--amber-100));
  font-weight: 800;
  color: var(--deep-forest);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  font-size: var(--step--1);
}

.table-surface tr:hover {
  background: color-mix(in srgb, var(--sage-50) 50%, transparent);
}

.table-surface tr:last-child td {
  border-bottom: none;
}

/* -------------------------------
   Forms — Additional Styles
----------------------------------*/
form.material-form {
  display: grid;
  gap: var(--space-6);
}

.material-form .form-row {
  display: grid;
  gap: var(--space-4);
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
}

.material-form label {
  font-weight: 700;
  color: var(--sage-700);
  margin-bottom: 0.5rem;
  display: block;
  font-size: var(--step--1);
}

.material-form input,
.material-form textarea,
.material-form select {
  border-radius: var(--radius);
}

.material-form button[type="submit"] {
  justify-self: start;
  margin-top: var(--space-4);
}

/* -------------------------------
   Animation Helpers — Enhanced
----------------------------------*/
.fade-in {
  opacity: 0;
  transform: translateY(20px);
  animation: none;
}

.fade-in.is-visible {
  animation: fadeInUp 0.8s var(--ease-out) forwards;
}

@keyframes fadeInUp {
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.scale-in {
  opacity: 0;
  transform: scale(0.9);
}

.scale-in.is-visible {
  animation: scaleIn 0.6s var(--ease-spring) forwards;
}

@keyframes scaleIn {
  to {
    opacity: 1;
    transform: scale(1);
  }
}

.slide-in-left {
  opacity: 0;
  transform: translateX(-40px);
}

.slide-in-left.is-visible {
  animation: slideInLeft 0.7s var(--ease-out) forwards;
}

@keyframes slideInLeft {
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

.slide-in-right {
  opacity: 0;
  transform: translateX(40px);
}

.slide-in-right.is-visible {
  animation: slideInRight 0.7s var(--ease-out) forwards;
}

@keyframes slideInRight {
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

/* Stagger children animations */
.stagger-children > * {
  opacity: 0;
  transform: translateY(20px);
}

.stagger-children.is-visible > * {
  animation: fadeInUp 0.6s var(--ease-out) forwards;
}

.stagger-children.is-visible > *:nth-child(1) { animation-delay: 0.1s; }
.stagger-children.is-visible > *:nth-child(2) { animation-delay: 0.2s; }
.stagger-children.is-visible > *:nth-child(3) { animation-delay: 0.3s; }
.stagger-children.is-visible > *:nth-child(4) { animation-delay: 0.4s; }
.stagger-children.is-visible > *:nth-child(5) { animation-delay: 0.5s; }
.stagger-children.is-visible > *:nth-child(6) { animation-delay: 0.6s; }

/* -------------------------------
   Loading States
----------------------------------*/
.loading {
  position: relative;
  pointer-events: none;
  opacity: 0.6;
}

.loading::after {
  content: "";
  position: absolute;
  inset: 0;
  background: color-mix(in srgb, var(--soft-white) 80%, transparent);
  backdrop-filter: blur(2px);
  display: flex;
  align-items: center;
  justify-content: center;
}

.spinner {
  width: 40px;
  height: 40px;
  border: 4px solid color-mix(in srgb, var(--sage-300) 40%, transparent);
  border-top-color: var(--amber-600);
  border-radius: 50%;
  animation: spin 0.8s linear infinite;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

/* -------------------------------
   Scroll Progress Indicator
----------------------------------*/
.scroll-progress {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  height: 4px;
  background: var(--golden-hour);
  transform-origin: left;
  transform: scaleX(0);
  z-index: 9999;
  box-shadow: var(--shadow-glow);
}

/* =====================================================================
   WORLD-CLASS PREMIUM VISUAL ENHANCEMENTS
   Award-Winning Aesthetic Overhaul
   ===================================================================== */

/* -------------------------------
   Hero Enhancements — Cinematic
----------------------------------*/
.hero-enhanced {
  position: relative;
  overflow: hidden;
}

.hero-ornament {
  position: absolute;
  width: 400px;
  height: 400px;
  border-radius: 50%;
  pointer-events: none;
  z-index: 0;
}

.hero-ornament-left {
  top: -200px;
  left: -200px;
  background: radial-gradient(circle, rgba(122, 138, 104, 0.15), transparent 70%);
  filter: blur(60px);
  animation: float 20s ease-in-out infinite;
}

.hero-ornament-right {
  bottom: -200px;
  right: -200px;
  background: radial-gradient(circle, rgba(122, 138, 104, 0.15), transparent 70%);
  filter: blur(60px);
  animation: float 25s ease-in-out infinite reverse;
}

@keyframes float {
  0%, 100% { transform: translate(0, 0) scale(1); }
  33% { transform: translate(30px, -30px) scale(1.1); }
  66% { transform: translate(-20px, 20px) scale(0.9); }
}

.hero-title {
  font-size: clamp(2.5rem, 7vw, 4.5rem) !important;
  line-height: 1.1;
  margin-bottom: var(--space-4);
  position: relative;
}

.hero-description {
  font-size: clamp(1.125rem, 2vw, 1.375rem);
  line-height: 1.6;
  margin-bottom: var(--space-5);
  max-width: 700px;
  margin-left: auto;
  margin-right: auto;
  opacity: 0.95;
}

.hero-scroll-indicator {
  position: absolute;
  bottom: 2rem;
  left: 50%;
  transform: translateX(-50%);
  color: rgba(255, 255, 255, 0.9);
  animation: bounce 2s ease-in-out infinite;
  cursor: pointer;
  transition: all var(--transition-fast);
  z-index: 10;
}

.hero-scroll-indicator:hover {
  transform: translateX(-50%) scale(1.2);
  color: rgba(255, 255, 255, 1);
}

.hero-scroll-indicator .material-symbols-rounded {
  font-size: 2.5rem;
  filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.3));
}

@keyframes bounce {
  0%, 100% { transform: translateX(-50%) translateY(0); }
  50% { transform: translateX(-50%) translateY(-10px); }
}

/* -------------------------------
   Chip & Badge Components
----------------------------------*/
.chip-premium {
  background: var(--deep-forest);
  border: 2px solid var(--sage-600);
  padding: 0.5rem 1.25rem;
  border-radius: var(--radius-full);
  font-weight: 800;
  font-size: var(--step--1);
  letter-spacing: 0.1em;
  text-transform: uppercase;
  color: var(--cream);
  box-shadow:
    0 4px 12px rgba(36, 61, 22, 0.15),
    inset 0 1px 0 rgba(255, 255, 255, 0.8);
}

.chip-accent {
  background: var(--deep-forest);
  border: 2px solid var(--sage-600);
  color: var(--cream);
  font-weight: 800;
}

@keyframes chip-pulse {
  0%, 100% { box-shadow: 0 4px 12px rgba(36, 61, 22, 0.15), inset 0 1px 0 rgba(255, 255, 255, 0.8); }
  50% { box-shadow: 0 6px 16px rgba(36, 61, 22, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.9); }
}

.card-badge {
  position: absolute;
  top: 1rem;
  right: 1rem;
  background: linear-gradient(135deg, var(--amber-500), var(--amber-600));
  color: #fff;
  padding: 0.4rem 0.9rem;
  border-radius: var(--radius-full);
  font-size: var(--step--2);
  font-weight: 800;
  letter-spacing: 0.05em;
  text-transform: uppercase;
  box-shadow: var(--shadow-2), var(--shadow-glow);
  z-index: 10;
  animation: badge-glow 2s ease-in-out infinite;
}

@keyframes badge-glow {
  0%, 100% { box-shadow: var(--shadow-2), var(--shadow-glow); }
  50% { box-shadow: var(--shadow-2), var(--shadow-glow-lg); }
}

/* -------------------------------
   Button Enhancements
----------------------------------*/
.activity-btn-primary {
  font-size: var(--step-1);
  padding: 1rem 2.5rem;
}

.activity-btn-large {
  font-size: var(--step-1);
  padding: 1.1rem 2.8rem;
}

.btn-icon {
  font-size: 1.25em;
  transition: transform var(--transition-fast);
}

.activity-btn:hover .btn-icon {
  transform: translateX(4px);
}

.activity-btn.secondary:hover .btn-icon {
  transform: translateX(4px);
}

/* -------------------------------
   Section Enhancements
----------------------------------*/
.section-premium {
  position: relative;
  overflow: hidden;
}

.section-premium::before {
  content: "";
  position: absolute;
  top: -50%;
  left: -10%;
  width: 500px;
  height: 500px;
  background: radial-gradient(circle, rgba(235, 160, 60, 0.08), transparent 70%);
  filter: blur(80px);
  pointer-events: none;
  animation: ambient-drift 30s ease-in-out infinite;
}

@keyframes ambient-drift {
  0%, 100% { transform: translate(0, 0); }
  50% { transform: translate(100px, 50px); }
}

.section-header-enhanced {
  text-align: center;
  margin-bottom: var(--space-9);
}

.section-header-centered {
  text-align: center;
  margin-bottom: var(--space-6);
}

.section-label {
  display: inline-flex;
  align-items: center;
  gap: var(--space-2);
  margin-bottom: var(--space-4);
  color: var(--sage-600);
  font-weight: 700;
  font-size: var(--step--1);
  letter-spacing: 0.1em;
  text-transform: uppercase;
}

.section-label-centered {
  justify-content: center;
}

.section-label .material-symbols-rounded {
  font-size: 1.5em;
  color: var(--amber-600);
}

.section-title-large {
  font-size: clamp(2rem, 5vw, 3rem);
  margin-bottom: var(--space-5);
}

.section-title-xl {
  font-size: clamp(2.25rem, 6vw, 3.5rem);
  margin-bottom: var(--space-5);
  line-height: 1.15;
}

.section-subtitle-large {
  font-size: clamp(1.125rem, 2vw, 1.375rem);
  line-height: 1.7;
  color: var(--ink-muted);
  max-width: 800px;
  margin: 0 auto var(--space-7);
}

.text-highlight {
  color: var(--deep-forest);
  font-weight: 700;
  letter-spacing: -0.01em;
  position: relative;
}

/* -------------------------------
   Grid Enhancements
----------------------------------*/
.grid-enhanced {
  gap: clamp(1.5rem, 3vw, 2.5rem);
}

.grid-2-enhanced {
  gap: clamp(2rem, 5vw, 4rem);
  align-items: center;
}

.grid-programmes {
  gap: clamp(1.5rem, 3vw, 2rem);
}

/* -------------------------------
   Premium Card Components
----------------------------------*/
.card-premium {
  position: relative;
  padding: clamp(1.75rem, 4vw, 2.5rem);
  background:
    linear-gradient(135deg,
      rgba(255, 255, 255, 0.95),
      rgba(245, 241, 230, 0.9));
  border: 2px solid color-mix(in srgb, var(--sage-300) 40%, transparent);
  border-radius: var(--radius-xl);
  box-shadow:
    var(--shadow-2),
    inset 0 1px 0 rgba(255, 255, 255, 0.9);
  transition: all var(--transition-std);
  overflow: hidden;
}

.card-premium::before {
  content: "";
  position: absolute;
  inset: 0;
  background: radial-gradient(circle at top right, var(--amber-100), transparent 60%);
  opacity: 0;
  transition: opacity var(--transition-std);
}

.card-premium:hover {
  transform: translateY(-8px);
  box-shadow:
    var(--shadow-4),
    var(--shadow-glow),
    inset 0 1px 0 rgba(255, 255, 255, 1);
  border-color: var(--sage-400);
}

.card-premium:hover::before {
  opacity: 0.4;
}

.card-featured {
  border-color: var(--amber-400);
  background:
    linear-gradient(135deg,
      rgba(254, 247, 236, 0.98),
      rgba(253, 233, 200, 0.95));
}

.card-featured::before {
  background: radial-gradient(circle at top right, var(--amber-200), transparent 50%);
  opacity: 0.3;
}

.card-icon {
  width: 60px;
  height: 60px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: linear-gradient(135deg, var(--sage-100), var(--amber-100));
  border-radius: var(--radius-lg);
  margin-bottom: var(--space-4);
  box-shadow: var(--shadow-1);
  position: relative;
  z-index: 1;
}

.card-icon .material-symbols-rounded {
  font-size: 2rem;
  color: var(--sage-700);
}

.card-title {
  font-size: var(--step-1);
  color: var(--forest-shadow);
  margin-bottom: var(--space-3);
  position: relative;
  z-index: 1;
}

.card-description {
  color: var(--ink-muted);
  line-height: 1.7;
  margin-bottom: var(--space-5);
  position: relative;
  z-index: 1;
}

.card-action {
  margin-top: auto;
  position: relative;
  z-index: 1;
}

/* Programme Cards */
.card-programme {
  position: relative;
  padding: clamp(2rem, 5vw, 2.75rem);
  background: linear-gradient(135deg,
    rgba(255, 255, 255, 0.98),
    rgba(245, 241, 230, 0.95));
  border: 2px solid color-mix(in srgb, var(--sage-300) 40%, transparent);
  border-radius: var(--radius-xl);
  box-shadow: var(--shadow-2);
  transition: all var(--transition-std);
  display: flex;
  flex-direction: column;
}

.card-programme::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 5px;
  background: var(--golden-hour);
  opacity: 0;
  transition: opacity var(--transition-std);
}

.card-programme:hover {
  transform: translateY(-10px) scale(1.02);
  box-shadow: var(--shadow-4), var(--shadow-glow);
  border-color: var(--amber-400);
}

.card-programme:hover::before {
  opacity: 1;
}

.card-number {
  position: absolute;
  top: 1.5rem;
  right: 1.5rem;
  font-size: clamp(3rem, 5vw, 4rem);
  font-weight: 900;
  color: var(--sage-200);
  opacity: 0.3;
  line-height: 1;
  font-family: var(--font-display);
  pointer-events: none;
}

.card-icon-large {
  width: 80px;
  height: 80px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: linear-gradient(135deg, var(--sage-100), var(--amber-100));
  border-radius: var(--radius-xl);
  margin-bottom: var(--space-5);
  box-shadow: var(--shadow-2);
  position: relative;
  z-index: 1;
  transition: all var(--transition-std);
}

.card-programme:hover .card-icon-large {
  transform: scale(1.1) rotate(-5deg);
  box-shadow: var(--shadow-3), var(--shadow-glow);
}

.card-icon-large .material-symbols-rounded {
  font-size: 2.5rem;
  color: var(--sage-700);
}

.card-link {
  display: inline-flex;
  align-items: center;
  gap: var(--space-2);
  color: var(--amber-700);
  font-weight: 700;
  text-decoration: none;
  margin-top: auto;
  padding-top: var(--space-4);
  position: relative;
  z-index: 1;
  transition: all var(--transition-fast);
}

.card-link:hover {
  color: var(--amber-600);
  gap: var(--space-3);
}

.card-link .material-symbols-rounded {
  transition: transform var(--transition-fast);
}

.card-link:hover .material-symbols-rounded {
  transform: translateX(4px);
}

/* -------------------------------
   Content Block Enhancements
----------------------------------*/
.content-block {
  display: flex;
  flex-direction: column;
  gap: var(--space-5);
}

.lead-text {
  font-size: clamp(1.125rem, 2vw, 1.25rem);
  line-height: 1.7;
  font-weight: 600;
  color: var(--sage-800);
}

.stats-inline {
  display: flex;
  gap: var(--space-7);
  margin: var(--space-6) 0;
  flex-wrap: wrap;
}

.stat-inline-item {
  display: flex;
  flex-direction: column;
  gap: var(--space-1);
}

.stat-number {
  font-size: clamp(2rem, 4vw, 2.5rem);
  font-weight: 900;
  font-family: var(--font-display);
  background: var(--golden-hour);
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  line-height: 1;
}

.stat-label {
  font-size: var(--step--1);
  font-weight: 700;
  color: var(--ink-muted);
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

/* -------------------------------
   Image Frame Enhancements
----------------------------------*/
.image-frame {
  position: relative;
  overflow: hidden;
  border-radius: var(--radius-2xl);
}

.image-frame img {
  width: 100%;
  height: auto;
  display: block;
  transition: transform var(--transition-slow);
}

.image-frame:hover img {
  transform: scale(1.05);
}

.image-ornament {
  position: absolute;
  inset: -10%;
  background: radial-gradient(circle at 30% 30%, var(--sage-200), transparent 60%);
  opacity: 0;
  transition: opacity var(--transition-slow);
  pointer-events: none;
  z-index: 1;
  mix-blend-mode: overlay;
}

.image-frame:hover .image-ornament {
  opacity: 0.3;
}

/* -------------------------------
   Stats Grid Premium
----------------------------------*/
.stat-grid-enhanced {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(min(100%, 250px), 1fr));
  gap: clamp(1.5rem, 3vw, 2.5rem);
  margin-bottom: var(--space-8);
}

.stat-card-premium {
  position: relative;
  padding: clamp(2rem, 4vw, 2.5rem);
  background:
    linear-gradient(135deg,
      rgba(255, 255, 255, 0.95),
      rgba(245, 241, 230, 0.9));
  border: 2px solid color-mix(in srgb, var(--sage-300) 40%, transparent);
  border-radius: var(--radius-xl);
  box-shadow: var(--shadow-2);
  text-align: center;
  overflow: hidden;
}

.stat-card-premium::before {
  content: "";
  position: absolute;
  inset: 0;
  background: radial-gradient(circle at center, var(--amber-100), transparent 70%);
  opacity: 0.4;
}

.stat-icon {
  width: 70px;
  height: 70px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: linear-gradient(135deg, var(--sage-100), var(--amber-100));
  border-radius: 50%;
  margin: 0 auto var(--space-4);
  box-shadow: var(--shadow-2);
  position: relative;
  z-index: 1;
}

.stat-icon .material-symbols-rounded {
  font-size: 2.25rem;
  color: var(--sage-700);
}

.stat-value {
  display: block;
  font-size: clamp(2.5rem, 5vw, 3.5rem);
  font-weight: 900;
  font-family: var(--font-display);
  background: var(--golden-hour);
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  line-height: 1.1;
  margin-bottom: var(--space-3);
  position: relative;
  z-index: 1;
}

.stat-decoration {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  height: 4px;
  background: var(--golden-hour);
  transform: scaleX(0);
  transform-origin: left;
  transition: transform 0.8s ease-out 0.3s;
}

.stat-card-premium[data-scroll-animate].visible .stat-decoration {
  transform: scaleX(1);
}

/* -------------------------------
   Testimonial Premium
----------------------------------*/
.testimonial-premium {
  position: relative;
  padding: clamp(2.5rem, 5vw, 3.5rem);
  background:
    linear-gradient(135deg,
      rgba(254, 247, 236, 0.98),
      rgba(253, 233, 200, 0.95));
  border: 3px solid var(--amber-300);
  border-radius: var(--radius-2xl);
  box-shadow:
    var(--shadow-3),
    var(--shadow-glow),
    inset 0 1px 0 rgba(255, 255, 255, 0.9);
  margin: var(--space-8) 0;
  max-width: 900px;
  margin-left: auto;
  margin-right: auto;
  overflow: hidden;
}

.testimonial-premium::before {
  content: "";
  position: absolute;
  inset: 0;
  background: radial-gradient(circle at top left, var(--amber-200), transparent 60%);
  opacity: 0.4;
  pointer-events: none;
}

.testimonial-icon {
  position: absolute;
  top: 1.5rem;
  left: 1.5rem;
  width: 60px;
  height: 60px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: linear-gradient(135deg, var(--amber-400), var(--amber-600));
  border-radius: 50%;
  box-shadow: var(--shadow-2);
  opacity: 0.15;
}

.testimonial-icon .material-symbols-rounded {
  font-size: 3rem;
  color: #fff;
}

.testimonial-text {
  font-size: clamp(1.125rem, 2vw, 1.375rem);
  line-height: 1.8;
  color: var(--forest-shadow);
  font-style: italic;
  margin-bottom: var(--space-5);
  position: relative;
  z-index: 1;
}

.testimonial-author {
  display: flex;
  flex-direction: column;
  gap: var(--space-1);
  position: relative;
  z-index: 1;
  font-style: normal;
}

.author-name {
  font-size: var(--step-1);
  font-weight: 800;
  color: var(--sage-800);
}

.author-title {
  font-size: var(--step--1);
  color: var(--amber-700);
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

/* -------------------------------
   CTA Section
----------------------------------*/
.section-cta {
  text-align: center;
  position: relative;
  overflow: hidden;
  padding: clamp(3rem, 6vw, 5rem) clamp(2rem, 5vw, 4rem);
}

.section-cta::before {
  content: "";
  position: absolute;
  inset: -20%;
  background: radial-gradient(circle, var(--amber-200), transparent 60%);
  opacity: 0.2;
  pointer-events: none;
  animation: ambient-rotate 40s linear infinite;
}

@keyframes ambient-rotate {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

.section-cta-content {
  position: relative;
  z-index: 1;
  max-width: 800px;
  margin: 0 auto;
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  gap: var(--space-5);
}

.section-cta .section-title,
.section-cta .section-subtitle,
.section-cta .section-subtitle-large {
  text-align: center;
  margin-left: auto;
  margin-right: auto;
}

.section-cta .hero-actions {
  width: 100%;
  justify-content: center;
  align-items: center;
  flex-direction: column;
  margin-top: 0;
  gap: var(--space-3);
}

.section-cta .hero-actions .activity-btn {
  margin-inline: auto;
}

.section-cta-badge {
  width: 100px;
  height: 100px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: linear-gradient(135deg, var(--sage-100), var(--amber-100));
  border-radius: 50%;
  margin: 0 auto var(--space-6);
  box-shadow: var(--shadow-3), var(--shadow-glow);
  animation: badge-pulse 3s ease-in-out infinite;
}

@keyframes badge-pulse {
  0%, 100% { transform: scale(1); box-shadow: var(--shadow-3), var(--shadow-glow); }
  50% { transform: scale(1.05); box-shadow: var(--shadow-4), var(--shadow-glow-lg); }
}

.section-cta-badge .material-symbols-rounded {
  font-size: 3.5rem;
  color: var(--sage-700);
}

/* -------------------------------
   Scroll Animations
----------------------------------*/
[data-scroll-animate] {
  opacity: 0;
  transform: translateY(30px);
  transition: all 0.8s var(--ease-out);
}

[data-scroll-animate].is-visible {
  opacity: 1;
  transform: translateY(0);
}

[data-card-animate] {
  opacity: 0;
  transform: translateY(40px) scale(0.95);
  transition: all 0.7s var(--ease-out);
}

[data-card-animate].is-visible {
  opacity: 1;
  transform: translateY(0) scale(1);
}

/* Stagger delays for multiple animated elements */
[data-card-animate]:nth-child(1) { transition-delay: 0.1s; }
[data-card-animate]:nth-child(2) { transition-delay: 0.2s; }
[data-card-animate]:nth-child(3) { transition-delay: 0.3s; }
[data-card-animate]:nth-child(4) { transition-delay: 0.4s; }
[data-card-animate]:nth-child(5) { transition-delay: 0.5s; }
[data-card-animate]:nth-child(6) { transition-delay: 0.6s; }

/* -------------------------------
   Responsive Enhancements
----------------------------------*/
@media (max-width: 768px) {
  .navbar {
    flex-wrap: wrap;
    justify-content: flex-start;
  }

  .nav-actions {
    width: 100%;
    justify-content: flex-start;
    margin-left: 0;
  }

  .hero-ornament {
    width: 300px;
    height: 300px;
  }

  .hero-scroll-indicator {
    bottom: 1rem;
  }

  .stats-inline {
    gap: var(--space-5);
  }

  .section-cta-badge {
    width: 80px;
    height: 80px;
  }

  .section-cta-badge .material-symbols-rounded {
    font-size: 2.5rem;
  }
}

@media (prefers-reduced-motion: reduce) {
  .hero-ornament,
  .section-premium::before,
  .section-cta::before,
  .hero-scroll-indicator {
    animation: none;
  }

  [data-scroll-animate],
  [data-card-animate] {
    opacity: 1;
    transform: none;
    transition: none;
  }
}

/* -------------------------------
   Print Styles
----------------------------------*/
@media print {
  body {
    background: #fff;
  }
  .site-header,
  .site-footer,
  .nav-toggle,
  .donate-btn {
    display: none;
  }
  .card,
  .material-surface {
    box-shadow: none;
    border: 1px solid #ccc;
  }
}
